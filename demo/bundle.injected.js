!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){"use strict";i.r(t),i.d(t,"h",function(){return l}),i.d(t,"createElement",function(){return l}),i.d(t,"cloneElement",function(){return u}),i.d(t,"createRef",function(){return W}),i.d(t,"Component",function(){return w}),i.d(t,"render",function(){return _}),i.d(t,"rerender",function(){return y}),i.d(t,"options",function(){return s});var n=function(){},s={},a=[],r=[];function l(e,t){var i,l,o,d,p=r;for(d=arguments.length;d-- >2;)a.push(arguments[d]);for(t&&null!=t.children&&(a.length||a.push(t.children),delete t.children);a.length;)if((l=a.pop())&&void 0!==l.pop)for(d=l.length;d--;)a.push(l[d]);else"boolean"==typeof l&&(l=null),(o="function"!=typeof e)&&(null==l?l="":"number"==typeof l?l=String(l):"string"!=typeof l&&(o=!1)),o&&i?p[p.length-1]+=l:p===r?p=[l]:p.push(l),i=o;var u=new n;return u.nodeName=e,u.children=p,u.attributes=null==t?void 0:t,u.key=null==t?void 0:t.key,void 0!==s.vnode&&s.vnode(u),u}function o(e,t){for(var i in t)e[i]=t[i];return e}function d(e,t){null!=e&&("function"==typeof e?e(t):e.current=t)}var p="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function u(e,t){return l(e.nodeName,o(o({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}var h=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,m=[];function c(e){!e._dirty&&(e._dirty=!0)&&1==m.push(e)&&(s.debounceRendering||p)(y)}function y(){for(var e;e=m.pop();)e._dirty&&O(e)}function v(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function f(e){var t=o({},e.attributes);t.children=e.children;var i=e.nodeName.defaultProps;if(void 0!==i)for(var n in i)void 0===t[n]&&(t[n]=i[n]);return t}function T(e){var t=e.parentNode;t&&t.removeChild(e)}function P(e,t,i,n,s){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)d(i,null),d(n,e);else if("class"!==t||s)if("style"===t){if(n&&"string"!=typeof n&&"string"!=typeof i||(e.style.cssText=n||""),n&&"object"==typeof n){if("string"!=typeof i)for(var a in i)a in n||(e.style[a]="");for(var a in n)e.style[a]="number"==typeof n[a]&&!1===h.test(a)?n[a]+"px":n[a]}}else if("dangerouslySetInnerHTML"===t)n&&(e.innerHTML=n.__html||"");else if("o"==t[0]&&"n"==t[1]){var r=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),n?i||e.addEventListener(t,M,r):e.removeEventListener(t,M,r),(e._listeners||(e._listeners={}))[t]=n}else if("list"!==t&&"type"!==t&&!s&&t in e){try{e[t]=null==n?"":n}catch(e){}null!=n&&!1!==n||"spellcheck"==t||e.removeAttribute(t)}else{var l=s&&t!==(t=t.replace(/^xlink:?/,""));null==n||!1===n?l?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof n&&(l?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):e.setAttribute(t,n))}else e.className=n||""}function M(e){return this._listeners[e.type](s.event&&s.event(e)||e)}var g=[],I=0,b=!1,C=!1;function E(){for(var e;e=g.shift();)s.afterMount&&s.afterMount(e),e.componentDidMount&&e.componentDidMount()}function S(e,t,i,n,s,a){I++||(b=null!=s&&void 0!==s.ownerSVGElement,C=null!=e&&!("__preactattr_"in e));var r=x(e,t,i,n,a);return s&&r.parentNode!==s&&s.appendChild(r),--I||(C=!1,a||E()),r}function x(e,t,i,n,s){var a=e,r=b;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||s)?e.nodeValue!=t&&(e.nodeValue=t):(a=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),N(e,!0))),a.__preactattr_=!0,a;var l,o,d=t.nodeName;if("function"==typeof d)return function(e,t,i,n){var s=e&&e._component,a=s,r=e,l=s&&e._componentConstructor===t.nodeName,o=l,d=f(t);for(;s&&!o&&(s=s._parentComponent);)o=s.constructor===t.nodeName;s&&o&&(!n||s._component)?(A(s,d,3,i,n),e=s.base):(a&&!l&&(H(a),e=r=null),s=D(t.nodeName,d,i),e&&!s.nextBase&&(s.nextBase=e,r=null),A(s,d,1,i,n),e=s.base,r&&e!==r&&(r._component=null,N(r,!1)));return e}(e,t,i,n);if(b="svg"===d||"foreignObject"!==d&&b,d=String(d),(!e||!v(e,d))&&(l=d,(o=b?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l)).normalizedNodeName=l,a=o,e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),N(e,!0)}var p=a.firstChild,u=a.__preactattr_,h=t.children;if(null==u){u=a.__preactattr_={};for(var m=a.attributes,c=m.length;c--;)u[m[c].name]=m[c].value}return!C&&h&&1===h.length&&"string"==typeof h[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=h[0]&&(p.nodeValue=h[0]):(h&&h.length||null!=p)&&function(e,t,i,n,s){var a,r,l,o,d,p=e.childNodes,u=[],h={},m=0,c=0,y=p.length,f=0,P=t?t.length:0;if(0!==y)for(var M=0;M<y;M++){var g=p[M],I=g.__preactattr_,b=P&&I?g._component?g._component.__key:I.key:null;null!=b?(m++,h[b]=g):(I||(void 0!==g.splitText?!s||g.nodeValue.trim():s))&&(u[f++]=g)}if(0!==P)for(var M=0;M<P;M++){o=t[M],d=null;var b=o.key;if(null!=b)m&&void 0!==h[b]&&(d=h[b],h[b]=void 0,m--);else if(c<f)for(a=c;a<f;a++)if(void 0!==u[a]&&(C=r=u[a],S=s,"string"==typeof(E=o)||"number"==typeof E?void 0!==C.splitText:"string"==typeof E.nodeName?!C._componentConstructor&&v(C,E.nodeName):S||C._componentConstructor===E.nodeName)){d=r,u[a]=void 0,a===f-1&&f--,a===c&&c++;break}d=x(d,o,i,n),l=p[M],d&&d!==e&&d!==l&&(null==l?e.appendChild(d):d===l.nextSibling?T(l):e.insertBefore(d,l))}var C,E,S;if(m)for(var M in h)void 0!==h[M]&&N(h[M],!1);for(;c<=f;)void 0!==(d=u[f--])&&N(d,!1)}(a,h,i,n,C||null!=u.dangerouslySetInnerHTML),function(e,t,i){var n;for(n in i)t&&null!=t[n]||null==i[n]||P(e,n,i[n],i[n]=void 0,b);for(n in t)"children"===n||"innerHTML"===n||n in i&&t[n]===("value"===n||"checked"===n?e[n]:i[n])||P(e,n,i[n],i[n]=t[n],b)}(a,t.attributes,u),b=r,a}function N(e,t){var i=e._component;i?H(i):(null!=e.__preactattr_&&d(e.__preactattr_.ref,null),!1!==t&&null!=e.__preactattr_||T(e),k(e))}function k(e){for(e=e.lastChild;e;){var t=e.previousSibling;N(e,!0),e=t}}var j=[];function D(e,t,i){var n,s=j.length;for(e.prototype&&e.prototype.render?(n=new e(t,i),w.call(n,t,i)):((n=new w(t,i)).constructor=e,n.render=F);s--;)if(j[s].constructor===e)return n.nextBase=j[s].nextBase,j.splice(s,1),n;return n}function F(e,t,i){return this.constructor(e,i)}function A(e,t,i,n,a){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||a?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,n)),n&&n!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=n),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==i&&(1!==i&&!1===s.syncComponentUpdates&&e.base?c(e):O(e,1,a)),d(e.__ref,e))}function O(e,t,i,n){if(!e._disable){var a,r,l,d=e.props,p=e.state,u=e.context,h=e.prevProps||d,m=e.prevState||p,c=e.prevContext||u,y=e.base,v=e.nextBase,T=y||v,P=e._component,M=!1,b=c;if(e.constructor.getDerivedStateFromProps&&(p=o(o({},p),e.constructor.getDerivedStateFromProps(d,p)),e.state=p),y&&(e.props=h,e.state=m,e.context=c,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(d,p,u)?M=!0:e.componentWillUpdate&&e.componentWillUpdate(d,p,u),e.props=d,e.state=p,e.context=u),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!M){a=e.render(d,p,u),e.getChildContext&&(u=o(o({},u),e.getChildContext())),y&&e.getSnapshotBeforeUpdate&&(b=e.getSnapshotBeforeUpdate(h,m));var C,x,k=a&&a.nodeName;if("function"==typeof k){var j=f(a);(r=P)&&r.constructor===k&&j.key==r.__key?A(r,j,1,u,!1):(C=r,e._component=r=D(k,j,u),r.nextBase=r.nextBase||v,r._parentComponent=e,A(r,j,0,u,!1),O(r,1,i,!0)),x=r.base}else l=T,(C=P)&&(l=e._component=null),(T||1===t)&&(l&&(l._component=null),x=S(l,a,u,i||!y,T&&T.parentNode,!0));if(T&&x!==T&&r!==P){var F=T.parentNode;F&&x!==F&&(F.replaceChild(x,T),C||(T._component=null,N(T,!1)))}if(C&&H(C),e.base=x,x&&!n){for(var w=e,_=e;_=_._parentComponent;)(w=_).base=x;x._component=w,x._componentConstructor=w.constructor}}for(!y||i?g.push(e):M||(e.componentDidUpdate&&e.componentDidUpdate(h,m,b),s.afterUpdate&&s.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);I||n||E()}}function H(e){s.beforeUnmount&&s.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var i=e._component;i?H(i):t&&(null!=t.__preactattr_&&d(t.__preactattr_.ref,null),e.nextBase=t,T(t),j.push(e),k(t)),d(e.__ref,null)}function w(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function _(e,t,i){return S(i,e,{},!1,t,!1)}function W(){return{}}o(w.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=o(o({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),c(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),O(this,2)},render:function(){}});var J={h:l,createElement:l,cloneElement:u,createRef:W,Component:w,render:_,rerender:y,options:s};t.default=J},function(e,t,i){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var i={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)&&n.length){var r=s.apply(null,n);r&&e.push(r)}else if("object"===a)for(var l in n)i.call(n,l)&&n[l]&&e.push(l)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(n=function(){return s}.apply(t,[]))||(e.exports=n)}()},function(e,t,i){const n=i(7),s=new(i(9));t.deepCopyIfSame=function({a:e=null,b:t=null}={}){return e==t?null==e?{}:JSON.parse(JSON.stringify(e)):null==e?{}:e},t.noop=(()=>{}),t.equals=function(e,i){if(e===i)return!0;if(null==e||null==i)return e==i;let n=Object.prototype.toString.call(e);if(n!==Object.prototype.toString.call(i))return!1;let s="[object Object]"===n;if("[object Array]"===n){if(e.length!==i.length)return!1;for(let n=0;n<e.length;n++)if(!t.equals(e[n],i[n]))return!1;return!0}if(s){let n=Object.keys(e);if(n.length!==Object.keys(i).length)return!1;for(let s=0;s<n.length;s++){let a=n[s];if(!(a in i))return!1;if(!t.equals(e[a],i[a]))return!1}return!0}return!1},t.shallowEquals=function(e,t){return null==e||null==t?e===t:e===t||e.length===t.length&&e.every((e,i)=>e==t[i])},t.timeToMilliCeil=function(e){return Math.ceil(1e3*e)},t.secToMilli=function(e){return 1e3*e},t.timeNow=function(){return n()/1e3},String.prototype.repeat||(String.prototype.repeat=function(e){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var t=""+this;if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative");if(e==1/0)throw new RangeError("repeat count must be less than infinity");if(e=Math.floor(e),0==t.length||0==e)return"";if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");var i=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+=t.substring(0,i-t.length)}),String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>=e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))}),t.timeToString=function(e=0,t=null,i=0,n=!1){let s="";if(e==1/0||"Infinity"==e)return null!=(s="âˆž")&&s.length<t&&(s=s.padStart(t," ")),s;let a=!1;e<0&&(a=!0,s+="-",e=-e);let r=Math.floor(e),l=Math.floor(r/3600),o=Math.floor((r-3600*l)/60),d=Math.floor(r-3600*l-60*o),p=l>0,u=o>0;return p&&(s+=String(l)+":"),u||p?(s+=p?String(o).padStart(2,"0")+":":String(o)+":",s+=String(d).padStart(2,"0")):s+=String(d),i>0&&(s+=n||a?"."+String(e-r).slice(2).slice(0,i).padEnd(i,"0"):" ".repeat(1+i)),null!=s&&s.length<t&&(s=s.padStart(t," ")),s},t.padStart=function(e,t=0,i=" "){return e.padStart(t,i)},t.strlen=function(e){return s.countGraphemes(e)}},function(e,t,i){const{h:n,render:s,Component:a}=i(0),r=i(1),l=i(4),o=i(2),{gameclock:d}=i(10);var p=function(e=null){if(null==e){let e=document.getElementsByClassName("targetdiv_playerclock");if(null!=e&&e.length>0){let t;for(t=0;t<e.length;t++){let i=e[t];for(;i.firstChild;)i.removeChild(i.firstChild)}}}else{let t=document.getElementsByClassName("gameclock_"+e);if(null!=t&&t.length>0){let e;for(e=t.length-1;e>=0;e--){let i=t[e];i.parentNode.removeChild(i)}}}},u=function(){let e=document.getElementsByClassName("gameclock")[0];null!=e&&null!=e.childNodes&&e.childNodes.length>0&&e.childNodes.forEach(function(e){if(null==e)return;let t=e.cloneNode(!0);if(null!=t){let i=e.id,n=document.getElementById(i+"_M");null!=n&&n.parentNode.removeChild(n),t.id=i+"_M";let s=document.getElementById("targetdiv_"+i);null!=s&&s.appendChild(t)}})};let h=0;class m extends a{constructor(e){super(e),this.state={id:h++,activeID:null},this.setActive=this.setActive.bind(this)}setActive(e,t){!0===t?this.setState({activeID:e}):this.setState({activeID:null})}render(){let e,t=[];for(e=0;e<this.props.children.length;e++)t.push(n(c,{activeID:this.state.activeID,setActive:this.setActive},this.props.children[e],this.props.children[++e]));return n("div",{id:"accordion-"+this.state.id,className:r("accordion"),accordionID:this.state.id},t)}}class c extends a{constructor(e){super(e),this.state={id:h++},this.toggleActive=this.toggleActive.bind(this)}toggleActive(e){this.props.setActive(this.state.id,!(this.props.activeID===this.state.id))}render(){return n("div",{},n("div",{id:"accordionHeader-"+this.state.id,className:r("accordionHeader",this.props.activeID===this.state.id?"active":null),onClick:this.toggleActive},this.props.children[0]),n("div",{id:"accordionPanel-"+this.state.id,className:r("accordionPanel"),style:{display:this.props.activeID===this.state.id?"block":"none"}},this.props.children[1]))}}class y extends a{constructor(e){super(e)}render(){return n("span",{},n("label",{},this.props.name+": "),n("input",{type:null!=this.props.type?this.props.type:"input",style:this.props.style?this.props.style:null,id:this.props.id,min:this.props.min,max:this.props.max,step:this.props.step,value:this.props.value,onInput:null!=this.props.onInput?this.props.onInput:null}))}}const v=e=>({stateKey:t,text:i})=>n("label",{style:{display:"flex",alignItems:"center"}},n("input",{style:{marginRight:".5em"},type:"checkbox",checked:e.state[t],onClick:()=>e.setState(i=>{if(t&&null!=e.state.initialTime&&"infiniteTime"==t.split("_")[0]){let n=t.split("_")[1],s={};s.initialTime=JSON.parse(JSON.stringify(e.state.initialTime));let a="initialTime."+n+".mainTime",r=null!=i[t]&&i[t]?5:"Infinity";return l(s,a,r),{initialTime:s.initialTime,[t]:null==i[t]||!i[t]}}return{[t]:null==i[t]||!i[t]}})}),n("span",{style:{userSelect:"none"}},i));s(n(class extends a{constructor(e){super(e),this.state={adjustAction:"setElapsedPeriodTime",adjustEventID:null,adjustPlayerID:"black",adjustVal:"0",clockMode:"byo-yomi",dispInfoNumPeriods:!0,dispInfoPeriodMoves:!0,dispInfoPlayerText:!0,dispCountElapsedMainTime:!1,dispCountElapsedNumPeriods:!1,dispCountElapsedPeriodMoves:!1,dispCountElapsedPeriodTime:!1,dispFormatMainTimeFSNumDigits:1,dispFormatMainTimeFSLastNumSecs:10,dispFormatMainTimeFSUpdateInterval:.1,dispFormatPeriodTimeFSNumDigits:1,dispFormatPeriodTimeFSLastNumSecs:10,dispFormatPeriodTimeFSUpdateInterval:.1,dispOnExpired:"OT",gameClockID:"demo",mode:"init",minActiveClocks:2,numMoves:0,initialTime:[{playerID:"black",playerText:"   ",mainTime:5,numPeriods:2,periodTime:4,periodMoves:1,mainMoves:0},{playerID:"white",playerText:"   ",mainTime:5,numPeriods:2,periodTime:4,periodMoves:1,mainMoves:0}],eventLog:"",eventLogEnabled:!1,numPlayers:2,playerIcons:"../assets/demo/",splitPlayerClocks:!1},this.handleAdjust=this.handleAdjust.bind(this),this.handleElapsedMainTime=this.handleElapsedMainTime.bind(this),this.handleElapsedPeriod=this.handleElapsedPeriod.bind(this),this.handleInit=this.handleInit.bind(this),this.handleMadeMove=this.handleMadeMove.bind(this),this.handlePaused=this.handlePaused.bind(this),this.handlePlayerClockExpired=this.handlePlayerClockExpired.bind(this),this.handleReset=this.handleReset.bind(this),this.handleResumed=this.handleResumed.bind(this),this.handleTenCount=this.handleTenCount.bind(this),globalThis.app=this,globalThis?.injectTrigger?.call(),this.logEvent=this.logEvent.bind(this),this.handleInputInt=this.handleInputInt.bind(this),this.handleInputFloat=this.handleInputFloat.bind(this),this.handleInputStr=this.handleInputStr.bind(this),this.handleOptionChange=this.handleOptionChange.bind(this),this.copyClipboardToState=this.copyClipboardToState.bind(this),this.copyStateToClipboard=this.copyStateToClipboard.bind(this),this.renderClocks=this.renderClocks.bind(this),this.CheckBox=v(this)}async copyClipboardToState(){try{if(window.clipboardData&&window.clipboardData.getData){let e=clipboardData.getData("Text",text);if(null!=e&&""!==e){let t=JSON.parse(e);this.setState(t)}}else if(navigator.clipboard){let e=await navigator.clipboard.readText().catch(e=>console.log(e));if(null!=e&&""!==e){let t=JSON.parse(e);this.setState(t)}}}catch(e){console.log("Could not read clipboard for copying to state",e)}}copyStateToClipboard(){let e=JSON.parse(JSON.stringify(this.state));e.eventLog="";let t=JSON.stringify(e);if(window.clipboardData&&window.clipboardData.setData)return clipboardData.setData("Text",t);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var i=document.createElement("textarea");i.textContent=t,i.style.position="fixed",document.body.appendChild(i),i.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),!1}finally{document.body.removeChild(i)}}}handleInputInt(e){let t=e.currentTarget,i=t.id,n=t.value;if(n=parseInt(n,10),isNaN(n)&&(n=null),null!=i){let e=i.split(".");if(e.length>1){parent=e[0];let t={};t[parent]=JSON.parse(JSON.stringify(this.state[parent])),l(t,i,n),this.setState(t)}else{let e={[i]:n};this.setState(e)}}}handleInputFloat(e){let t=e.currentTarget,i=t.id,n=t.value,s=!0;if(n=parseFloat(n),isNaN(n)&&(s=!1),s&&null!=i){let e=i.split(".");if(e.length>1){parent=e[0];let t={};t[parent]=JSON.parse(JSON.stringify(this.state[parent])),l(t,i,n),this.setState(t)}else{let e={[i]:n};this.setState(e)}}}handleInputStr(e){let t=e.currentTarget,i=t.id,n=t.value;if(null!=i){let e=i.split(".");if(e.length>1){parent=e[0];let t={};t[parent]=JSON.parse(JSON.stringify(this.state[parent])),l(t,i,n),this.setState(t)}else{let e={[i]:n};this.setState(e)}}}handleOptionChange(e){let t=e.currentTarget,[i,n]=t.value.split(":"),s={[i]:n};this.setState(s)}handleAdjust({playerID:e,clock:t,adjustEventID:i,activePlayers:n}={}){this.logEvent("P "+e+" adjust ("+i+")\n clock: "+JSON.stringify(t)+"\n adjustEventID: "+JSON.stringify(i)+"\n activePlayers: "+JSON.stringify(n))}handleElapsedMainTime({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" elapsedMainTime\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handleElapsedPeriod({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" elapsedPeriod\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handleInit({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" init\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handleMadeMove({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" madeMove\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handlePaused({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" paused\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handlePlayerClockExpired({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" time expired: \n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handleReset({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" reset\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handleResumed({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" resumed\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}handleTenCount({playerID:e,clock:t,activePlayers:i}={}){this.logEvent("P "+e+" <=10 secs left\n clock: "+JSON.stringify(t)+"\n activePlayers: "+JSON.stringify(i))}logEvent(e){if(this.state.eventLogEnabled){let t=(new Date).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"});this.setState({eventLog:t+" : "+e+"\n\n"+this.state.eventLog})}}componentDidUpdate(e,t){let i=!o.shallowEquals(this.state.initialTime,t.initialTime),n=this.state.gameClockID!=t.gameClockID;if(this.state.splitPlayerClocks!=t.splitPlayerClocks&&this.state.splitPlayerClocks){if(i||n){let e=t.gameClockID;p(e)}u()}if(this.state.numPlayers!=t.numPlayers&&(null==this.state.initialTime||this.state.initialTime.length!=this.state.numPlayers)){let e=this.state.numPlayers;if(e&&"number"==typeof e&&e>0){let t=Array.from(Array(e)).map((e,t)=>t);t=t.map((e,t)=>({playerID:String(t+1),playerText:"["+String(t+1)+"]",mainTime:5,mainMoves:0,numPeriods:2,periodTime:4,periodMoves:1})),this.setState({initialTime:t})}else this.setState({initialTime:null})}this.state.eventLogEnabled!==t.eventLogEnabled&&!1===this.state.eventLogEnabled&&this.setState({eventLog:""})}renderClocks(){let e={},t=this.state.clockMode;if("absolutePerPlayer"===t||"hourglass"===t||"word"===t)e={mainTime:"Main Time (sec)"};else if("byo-yomi"===t)e={mainTime:"Main Time (sec)",numPeriods:"# Periods",periodTime:"Period Time (sec)",periodMoves:"Moves/Period"};else if("incrementAfter"===t||"incrementBefore"===t)e={mainTime:"Phase 1 Time (sec)",mainMoves:"Phase 1 Moves",secondaryTime:"Phase 2 Time (sec)",secondaryMoves:"Phase 2 Moves",tertiaryTime:"Phase 3 Time (sec)",tertiaryMoves:"Phase 3 Moves",periodTime:"Increm. Time (sec)"};else{if("delay"!==t)return null;e={mainTime:"Phase 1 Time (sec)",mainMoves:"Phase 1 Moves",secondaryTime:"Phase 2 Time (sec)",secondaryMoves:"Phase 2 Moves",tertiaryTime:"Phase 3 Time (sec)",tertiaryMoves:"Phase 3 Moves",periodTime:"Delay Time (sec)"}}return null!=this.state.numPlayers&&this.state.numPlayers>0?Array.from(Array(this.state.numPlayers)).map((t,i)=>n("li",{style:{width:"16em"}},"Player "+(i+1),n("br",{}),Object.keys(e).map((t,s)=>n("div",{},"mainTime"===t&&null!=this.state.initialTime&&this.state.initialTime[i]?[n("ul",{},n(y,{type:"text",name:"Player Clock ID",id:"initialTime."+i+".playerID",style:{width:"8em",float:"right"},value:null!=this.state.initialTime&&this.state.initialTime[i]&&this.state.initialTime[i].playerID,onInput:this.handleInputStr})),n("ul",{},n(y,{type:"text",name:"Player Text",id:"initialTime."+i+".playerText",style:{width:"8em",float:"right"},value:null!=this.state.initialTime&&this.state.initialTime[i]&&this.state.initialTime[i].playerText,onInput:this.handleInputStr})),n("ul",{},n(this.CheckBox,{stateKey:"infiniteTime_"+i,text:"Infinite Time"}))]:null,this.state["infiniteTime_"+i]?null:[n("ul",{},n(y,{type:"number",name:e[t],id:"initialTime."+i+"."+t,min:0,style:{width:"8em",float:"right"},value:null!=this.state.initialTime&&this.state.initialTime[i]&&this.state.initialTime[i][t],onInput:this.handleInputInt}))])))):null}render(){let{adjustAction:e,adjustEventID:t,adjustPlayerID:i,adjustVal:s,clockMode:a,dispInfoNumPeriods:r,dispInfoPeriodMoves:l,dispInfoPlayerText:o,dispCountElapsedMainTime:p,dispCountElapsedNumPeriods:h,dispCountElapsedPeriodMoves:c,dispCountElapsedPeriodTime:v,dispFormatMainTimeFSNumDigits:f,dispFormatMainTimeFSLastNumSecs:T,dispFormatMainTimeFSUpdateInterval:P,dispFormatPeriodTimeFSNumDigits:M,dispFormatPeriodTimeFSLastNumSecs:g,dispFormatPeriodTimeFSUpdateInterval:I,dispOnExpired:b,gameClockID:C,minActiveClocks:E,mode:S,numMoves:x,initialTime:N,eventLog:k,eventLogEnabled:j,numPlayers:D,playerIcons:F,splitPlayerClocks:A}=this.state;return n("div",{},n("section",{style:{display:"grid",gridTemplateColumns:"20em auto",gridColumnGap:"1em"}},n("style",{},null!=F&&null!=N&&N.length>0&&N.map((e,t)=>`.playerclock_${C}_${e.playerID} {\n                        background-image: url('${F.replace(/\\/g,"/")}clock_${C}_${e.playerID}.svg');\n                        background-repeat: no-repeat;\n                        background-size: contain;\n                    }`)),n("form",{style:{display:"flex",flexDirection:"column"}},n("div",{style:{margin:"0 0 .25em 0"}},"Game Clock Controls:",n("br",{}),n("button",{type:"button",title:"Pause",onClick:e=>{this.setState({mode:"pause"})}},"Pause")," ",n("button",{type:"button",title:"Resume",onClick:e=>{this.setState({mode:"resume"})}},"Resume")," ",n("br",{}),n("button",{type:"button",title:"Reset",onClick:e=>{this.setState({numMoves:0,mode:"reset"})}},"Reset")," ",n("button",{type:"button",title:"Make Move",onClick:e=>{this.setState({numMoves:this.state.numMoves+1})}},"Make Move")," "),n(m,{},"Game Clock Settings",n("div",{},n("div",{style:{height:"1.5em"}},n(y,{type:"number",name:"Num Players",id:"numPlayers",min:0,style:{width:"3em"},value:this.state.numPlayers,onInput:this.handleInputInt})),n("div",{style:{height:"1.5em"}},n(y,{type:"number",name:"Minimum Active Clocks",id:"minActiveClocks",min:1,max:this.state.numPlayers,style:{width:"3em"},value:this.state.minActiveClocks,onInput:this.handleInputInt})),n("div",{},n("label",{},"Clock Mode: "),n("select",{type:"select",onChange:this.handleOptionChange,value:"clockMode:"+this.state.clockMode},n("option",{value:"clockMode:absolutePerPlayer"},"Absolute"),n("option",{value:"clockMode:byo-yomi"},"Byo-yomi"),n("option",{value:"clockMode:incrementAfter"},"Increment (After)"),n("option",{value:"clockMode:incrementBefore"},"Increment (Before)"),n("option",{value:"clockMode:delay"},"Delay"),n("option",{value:"clockMode:hourglass"},"Hourglass"),n("option",{value:"clockMode:word"},"Word"))),n(y,{type:"text",name:"Game Clock ID",id:"gameClockID",style:{width:"8em"},value:this.state.gameClockID,onInput:this.handleInputStr}),n(this.CheckBox,{stateKey:"splitPlayerClocks",text:"Split the player clocks (hack)"})),"Player Clock Time",n("div",{},this.state.numPlayers>0&&null!=this.state.initialTime&&this.state.initialTime.length>=this.state.numPlayers?this.renderClocks():null),"Display Info",n("div",{},n(y,{type:"text",name:"Time Expired Text",id:"dispOnExpired",style:{width:"8em"},value:this.state.dispOnExpired,onInput:this.handleInputStr}),n(this.CheckBox,{stateKey:"dispInfoNumPeriods",text:"Show # Periods"}),n(this.CheckBox,{stateKey:"dispInfoPeriodMoves",text:"Show # Period Moves"}),n(this.CheckBox,{stateKey:"dispInfoPlayerText",text:"Show Player Text"}),n(this.CheckBox,{stateKey:"dispCountElapsedMainTime",text:"Show Main Time as Elapsed"}),n(this.CheckBox,{stateKey:"dispCountElapsedPeriodTime",text:"Show Period Time as Elapsed"}),n(this.CheckBox,{stateKey:"dispCountElapsedNumPeriods",text:"Show # Periods as Elapsed"}),n(this.CheckBox,{stateKey:"dispCountElapsedPeriodMoves",text:"Show # Moves (made in period) as Elapsed"})),"Display Formatting",n("div",{},n("li",{},"Main Time format:",n("br",{}),n("ul",{},n(y,{type:"number",name:"# digits of fractional-secs",id:"dispFormatMainTimeFSNumDigits",min:0,max:4,style:{width:"5em",float:"right"},value:this.state.dispFormatMainTimeFSNumDigits,onInput:this.handleInputInt})),n("ul",{},n(y,{type:"number",name:"Fractional-secs on # secs left",id:"dispFormatMainTimeFSLastNumSecs",style:{width:"5em",float:"right"},value:this.state.dispFormatMainTimeFSLastNumSecs,onInput:this.handleInputInt})),n("ul",{},n(y,{type:"number",name:"Update interval for fractional-secs",id:"dispFormatMainTimeFSUpdateInterval",step:.01,min:.02,max:.5,style:{width:"5em",float:"right"},value:this.state.dispFormatMainTimeFSUpdateInterval,onInput:this.handleInputFloat}))),n("li",{},"Period Time format:",n("br",{}),n("ul",{},n(y,{type:"number",name:"# digits of fractional-secs",id:"dispFormatPeriodTimeFSNumDigits",min:0,max:4,style:{width:"5em",float:"right"},value:this.state.dispFormatPeriodTimeFSNumDigits,onInput:this.handleInputInt})),n("ul",{},n(y,{type:"number",name:"Fractional-secs on # secs left",id:"dispFormatPeriodTimeFSLastNumSecs",style:{width:"5em",float:"right"},value:this.state.dispFormatPeriodTimeFSLastNumSecs,onInput:this.handleInputInt})),n("ul",{},n(y,{type:"number",name:"Update interval for fractional-secs",id:"dispFormatPeriodTimeFSUpdateInterval",step:.01,min:.02,max:.5,style:{width:"5em",float:"right"},value:this.state.dispFormatPeriodTimeFSUpdateInterval,onInput:this.handleInputFloat})))),"Adjust Player Clock",n("div",{},n("div",{},n("label",{},"Player ID: "),n("select",{type:"select",onChange:this.handleOptionChange,value:"adjustPlayerID:"+String(this.state.adjustPlayerID)},null!=N&&N.length>0&&N.map((e,t)=>n("option",{value:"adjustPlayerID:"+String(e.playerID)},String(e.playerID))))),n("div",{},n("label",{},"Action: "),n("select",{type:"select",onChange:this.handleOptionChange,value:"adjustAction:"+this.state.adjustAction},["incrElapsedMainTime","incrElapsedMoveTime","incrElapsedNumPeriods","incrElapsedPeriodMoves","incrElapsedPeriodTime","incrElapsedTotalTime","setElapsedMainTime","setElapsedMoveTime","setElapsedNumPeriods","setElapsedPeriodMoves","setElapsedPeriodTime","setElapsedTotalTime"].map((e,t)=>n("option",{value:"adjustAction:"+e},e)))),"reset"===this.state.adjustAction.slice(0,5)?null:n("div",{},n(y,{type:"text",name:"Adjust Value",id:"adjustVal",style:{width:"8em"},value:this.state.adjustVal,onInput:this.handleInputStr})),n("button",{type:"button",title:"Adjust",onClick:e=>{this.setState(e=>({adjustEventID:null==e.adjustEventID?0:e.adjustEventID+1}))}},"Adjust clock")),"Import/Export Settings",n("div",{style:{margin:"0 0 .25em 0"}},n("br",{}),n("button",{type:"button",title:"",style:{width:"auto"},onClick:e=>{this.copyStateToClipboard()}},"Export state to clipboard"),n("br",{}),n("br",{}),n("button",{type:"button",title:"",style:{width:"auto"},onClick:e=>{this.copyClipboardToState()}},"Import state from clipboard"))),n("br",{}),n("div",{},n(this.CheckBox,{stateKey:"eventLogEnabled",text:"Enable Event Log"})),j?n("div",{},"Event Log: ",n("br",{}),n("textarea",{type:"textarea",rows:"10",cols:"60",value:k})):null),n("div",{style:{display:A?"none":null,"margin-left":"2em"}},n("a",{href:"https://github.com/dbosst/gameclock"},"Game Clock @ github"),n("br",{}),n("br",{}),this.state.numPlayers>0&&n(d,{adjustAction:e,adjustEventID:t,adjustPlayerID:i,adjustVal:s,clockMode:a,dispInfoNumPeriods:r,dispInfoPeriodMoves:l,dispInfoPlayerText:o,dispCountElapsedMainTime:p,dispCountElapsedNumPeriods:h,dispCountElapsedPeriodMoves:c,dispCountElapsedPeriodTime:v,dispFormatMainTimeFSNumDigits:f,dispFormatMainTimeFSLastNumSecs:T,dispFormatMainTimeFSUpdateInterval:P,dispFormatPeriodTimeFSNumDigits:M,dispFormatPeriodTimeFSLastNumSecs:g,dispFormatPeriodTimeFSUpdateInterval:I,dispOnExpired:b,gameClockID:C,minActiveClocks:E,mode:S,numMoves:x,initialTime:N,handleAdjust:this.handleAdjust,handleElapsedMainTime:this.handleElapsedMainTime,handleElapsedPeriod:this.handleElapsedPeriod,handleInit:this.handleInit,handleMadeMove:this.handleMadeMove,handlePaused:this.handlePaused,handlePlayerClockExpired:this.handlePlayerClockExpired,handleReset:this.handleReset,handleResumed:this.handleResumed,handleTenCount:this.handleTenCount,handleUpdated:u})),!0!==A||null==N?null:n("div",{style:{"margin-left":"2em"}},"Game Clock",n("br",{}),n("br",{}),null!=N&&N.length>0?N.map((e,t)=>[n("div",{class:"targetdiv_playerclock",style:{height:"fit-content",width:"fit-content"},id:"targetdiv_playerclock_"+C+"_"+e.playerID}),n("br",{})]):null)))}}),document.body)},function(e,t,i){"use strict";
/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */const n=i(5);function s(e,t,i,n){if(!r(e))return e;let l=n||{};const o=Array.isArray(t);if(!o&&"string"!=typeof t)return e;let d=l.merge;d&&"function"!=typeof d&&(d=Object.assign);const p=o?t:function(e,t){const i=function(e,t){let i=e;if(void 0===t)return i+"";const n=Object.keys(t);for(let e=0;e<n.length;e++){const s=n[e];i+=";"+s+"="+String(t[s])}return i}(e,t);if(s.memo[i])return s.memo[i];const n=t&&t.separator?t.separator:".";let a=[],r=[];a=t&&"function"==typeof t.split?t.split(e):e.split(n);for(let e=0;e<a.length;e++){let t=a[e];for(;t&&"\\"===t.slice(-1)&&a[e+1];)t=t.slice(0,-1)+n+a[++e];r.push(t)}return s.memo[i]=r,r}(t,l),u=p.length,h=e;if(!n&&1===p.length)return a(e,p[0],i,d),e;for(let t=0;t<u;t++){let n=p[t];if(r(e[n])||(e[n]={}),t===u-1){a(e,n,i,d);break}e=e[n]}return h}function a(e,t,i,s){s&&n(e[t])&&n(i)?e[t]=s({},e[t],i):e[t]=i}function r(e){switch(typeof e){case"null":return!1;case"object":case"function":return!0;default:return!1}}s.memo={},e.exports=s},function(e,t,i){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var n=i(6);function s(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,i;return!1!==s(e)&&("function"==typeof(t=e.constructor)&&(!1!==s(i=t.prototype)&&!1!==i.hasOwnProperty("isPrototypeOf")))}},function(e,t,i){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,i){(function(t){(function(){var i,n,s,a,r,l;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(i()-r)/1e6},n=t.hrtime,a=(i=function(){var e;return 1e9*(e=n())[0]+e[1]})(),l=1e9*t.uptime(),r=a-l):Date.now?(e.exports=function(){return Date.now()-s},s=Date.now()):(e.exports=function(){return(new Date).getTime()-s},s=(new Date).getTime())}).call(this)}).call(this,i(8))},function(e,t){var i,n,s=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(e){n=r}}();var o,d=[],p=!1,u=-1;function h(){p&&o&&(p=!1,o.length?d=o.concat(d):u=-1,d.length&&m())}function m(){if(!p){var e=l(h);p=!0;for(var t=d.length;t;){for(o=d,d=[];++u<t;)o&&o[u].run();u=-1,t=d.length}o=null,p=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function y(){}s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new c(e,t)),1!==d.length||p||l(m)},c.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.prependListener=y,s.prependOnceListener=y,s.listeners=function(e){return[]},s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,i){e.exports&&(e.exports=function(){var e=0,t=1,i=2,n=3,s=4,a=5,r=6,l=7,o=8,d=9,p=10,u=11,h=12,m=13,c=14,y=15,v=16,f=17,T=0,P=1,M=2,g=3,I=4;function b(e,t){void 0===t&&(t=0);var i=e.charCodeAt(t);if(55296<=i&&i<=56319&&t<e.length-1){var n=i;return 56320<=(s=e.charCodeAt(t+1))&&s<=57343?1024*(n-55296)+(s-56320)+65536:n}if(56320<=i&&i<=57343&&t>=1){var s=i;return 55296<=(n=e.charCodeAt(t-1))&&n<=56319?1024*(n-55296)+(s-56320)+65536:s}return i}function C(u,b,C){var E=[u].concat(b).concat([C]),S=E[E.length-2],x=C,N=E.lastIndexOf(c);if(N>1&&E.slice(1,N).every(function(e){return e==n})&&-1==[n,m,f].indexOf(u))return M;var k=E.lastIndexOf(s);if(k>0&&E.slice(1,k).every(function(e){return e==s})&&-1==[h,s].indexOf(S))return E.filter(function(e){return e==s}).length%2==1?g:I;if(S==e&&x==t)return T;if(S==i||S==e||S==t)return x==c&&b.every(function(e){return e==n})?M:P;if(x==i||x==e||x==t)return P;if(S==r&&(x==r||x==l||x==d||x==p))return T;if(!(S!=d&&S!=l||x!=l&&x!=o))return T;if((S==p||S==o)&&x==o)return T;if(x==n||x==y)return T;if(x==a)return T;if(S==h)return T;var j=-1!=E.indexOf(n)?E.lastIndexOf(n)-1:E.length-2;return-1!=[m,f].indexOf(E[j])&&E.slice(j+1,-1).every(function(e){return e==n})&&x==c?T:S==y&&-1!=[v,f].indexOf(x)?T:-1!=b.indexOf(s)?M:S==s&&x==s?T:P}function E(T){return 1536<=T&&T<=1541||1757==T||1807==T||2274==T||3406==T||69821==T||70082<=T&&T<=70083||72250==T||72326<=T&&T<=72329||73030==T?h:13==T?e:10==T?t:0<=T&&T<=9||11<=T&&T<=12||14<=T&&T<=31||127<=T&&T<=159||173==T||1564==T||6158==T||8203==T||8206<=T&&T<=8207||8232==T||8233==T||8234<=T&&T<=8238||8288<=T&&T<=8292||8293==T||8294<=T&&T<=8303||55296<=T&&T<=57343||65279==T||65520<=T&&T<=65528||65529<=T&&T<=65531||113824<=T&&T<=113827||119155<=T&&T<=119162||917504==T||917505==T||917506<=T&&T<=917535||917632<=T&&T<=917759||918e3<=T&&T<=921599?i:768<=T&&T<=879||1155<=T&&T<=1159||1160<=T&&T<=1161||1425<=T&&T<=1469||1471==T||1473<=T&&T<=1474||1476<=T&&T<=1477||1479==T||1552<=T&&T<=1562||1611<=T&&T<=1631||1648==T||1750<=T&&T<=1756||1759<=T&&T<=1764||1767<=T&&T<=1768||1770<=T&&T<=1773||1809==T||1840<=T&&T<=1866||1958<=T&&T<=1968||2027<=T&&T<=2035||2070<=T&&T<=2073||2075<=T&&T<=2083||2085<=T&&T<=2087||2089<=T&&T<=2093||2137<=T&&T<=2139||2260<=T&&T<=2273||2275<=T&&T<=2306||2362==T||2364==T||2369<=T&&T<=2376||2381==T||2385<=T&&T<=2391||2402<=T&&T<=2403||2433==T||2492==T||2494==T||2497<=T&&T<=2500||2509==T||2519==T||2530<=T&&T<=2531||2561<=T&&T<=2562||2620==T||2625<=T&&T<=2626||2631<=T&&T<=2632||2635<=T&&T<=2637||2641==T||2672<=T&&T<=2673||2677==T||2689<=T&&T<=2690||2748==T||2753<=T&&T<=2757||2759<=T&&T<=2760||2765==T||2786<=T&&T<=2787||2810<=T&&T<=2815||2817==T||2876==T||2878==T||2879==T||2881<=T&&T<=2884||2893==T||2902==T||2903==T||2914<=T&&T<=2915||2946==T||3006==T||3008==T||3021==T||3031==T||3072==T||3134<=T&&T<=3136||3142<=T&&T<=3144||3146<=T&&T<=3149||3157<=T&&T<=3158||3170<=T&&T<=3171||3201==T||3260==T||3263==T||3266==T||3270==T||3276<=T&&T<=3277||3285<=T&&T<=3286||3298<=T&&T<=3299||3328<=T&&T<=3329||3387<=T&&T<=3388||3390==T||3393<=T&&T<=3396||3405==T||3415==T||3426<=T&&T<=3427||3530==T||3535==T||3538<=T&&T<=3540||3542==T||3551==T||3633==T||3636<=T&&T<=3642||3655<=T&&T<=3662||3761==T||3764<=T&&T<=3769||3771<=T&&T<=3772||3784<=T&&T<=3789||3864<=T&&T<=3865||3893==T||3895==T||3897==T||3953<=T&&T<=3966||3968<=T&&T<=3972||3974<=T&&T<=3975||3981<=T&&T<=3991||3993<=T&&T<=4028||4038==T||4141<=T&&T<=4144||4146<=T&&T<=4151||4153<=T&&T<=4154||4157<=T&&T<=4158||4184<=T&&T<=4185||4190<=T&&T<=4192||4209<=T&&T<=4212||4226==T||4229<=T&&T<=4230||4237==T||4253==T||4957<=T&&T<=4959||5906<=T&&T<=5908||5938<=T&&T<=5940||5970<=T&&T<=5971||6002<=T&&T<=6003||6068<=T&&T<=6069||6071<=T&&T<=6077||6086==T||6089<=T&&T<=6099||6109==T||6155<=T&&T<=6157||6277<=T&&T<=6278||6313==T||6432<=T&&T<=6434||6439<=T&&T<=6440||6450==T||6457<=T&&T<=6459||6679<=T&&T<=6680||6683==T||6742==T||6744<=T&&T<=6750||6752==T||6754==T||6757<=T&&T<=6764||6771<=T&&T<=6780||6783==T||6832<=T&&T<=6845||6846==T||6912<=T&&T<=6915||6964==T||6966<=T&&T<=6970||6972==T||6978==T||7019<=T&&T<=7027||7040<=T&&T<=7041||7074<=T&&T<=7077||7080<=T&&T<=7081||7083<=T&&T<=7085||7142==T||7144<=T&&T<=7145||7149==T||7151<=T&&T<=7153||7212<=T&&T<=7219||7222<=T&&T<=7223||7376<=T&&T<=7378||7380<=T&&T<=7392||7394<=T&&T<=7400||7405==T||7412==T||7416<=T&&T<=7417||7616<=T&&T<=7673||7675<=T&&T<=7679||8204==T||8400<=T&&T<=8412||8413<=T&&T<=8416||8417==T||8418<=T&&T<=8420||8421<=T&&T<=8432||11503<=T&&T<=11505||11647==T||11744<=T&&T<=11775||12330<=T&&T<=12333||12334<=T&&T<=12335||12441<=T&&T<=12442||42607==T||42608<=T&&T<=42610||42612<=T&&T<=42621||42654<=T&&T<=42655||42736<=T&&T<=42737||43010==T||43014==T||43019==T||43045<=T&&T<=43046||43204<=T&&T<=43205||43232<=T&&T<=43249||43302<=T&&T<=43309||43335<=T&&T<=43345||43392<=T&&T<=43394||43443==T||43446<=T&&T<=43449||43452==T||43493==T||43561<=T&&T<=43566||43569<=T&&T<=43570||43573<=T&&T<=43574||43587==T||43596==T||43644==T||43696==T||43698<=T&&T<=43700||43703<=T&&T<=43704||43710<=T&&T<=43711||43713==T||43756<=T&&T<=43757||43766==T||44005==T||44008==T||44013==T||64286==T||65024<=T&&T<=65039||65056<=T&&T<=65071||65438<=T&&T<=65439||66045==T||66272==T||66422<=T&&T<=66426||68097<=T&&T<=68099||68101<=T&&T<=68102||68108<=T&&T<=68111||68152<=T&&T<=68154||68159==T||68325<=T&&T<=68326||69633==T||69688<=T&&T<=69702||69759<=T&&T<=69761||69811<=T&&T<=69814||69817<=T&&T<=69818||69888<=T&&T<=69890||69927<=T&&T<=69931||69933<=T&&T<=69940||70003==T||70016<=T&&T<=70017||70070<=T&&T<=70078||70090<=T&&T<=70092||70191<=T&&T<=70193||70196==T||70198<=T&&T<=70199||70206==T||70367==T||70371<=T&&T<=70378||70400<=T&&T<=70401||70460==T||70462==T||70464==T||70487==T||70502<=T&&T<=70508||70512<=T&&T<=70516||70712<=T&&T<=70719||70722<=T&&T<=70724||70726==T||70832==T||70835<=T&&T<=70840||70842==T||70845==T||70847<=T&&T<=70848||70850<=T&&T<=70851||71087==T||71090<=T&&T<=71093||71100<=T&&T<=71101||71103<=T&&T<=71104||71132<=T&&T<=71133||71219<=T&&T<=71226||71229==T||71231<=T&&T<=71232||71339==T||71341==T||71344<=T&&T<=71349||71351==T||71453<=T&&T<=71455||71458<=T&&T<=71461||71463<=T&&T<=71467||72193<=T&&T<=72198||72201<=T&&T<=72202||72243<=T&&T<=72248||72251<=T&&T<=72254||72263==T||72273<=T&&T<=72278||72281<=T&&T<=72283||72330<=T&&T<=72342||72344<=T&&T<=72345||72752<=T&&T<=72758||72760<=T&&T<=72765||72767==T||72850<=T&&T<=72871||72874<=T&&T<=72880||72882<=T&&T<=72883||72885<=T&&T<=72886||73009<=T&&T<=73014||73018==T||73020<=T&&T<=73021||73023<=T&&T<=73029||73031==T||92912<=T&&T<=92916||92976<=T&&T<=92982||94095<=T&&T<=94098||113821<=T&&T<=113822||119141==T||119143<=T&&T<=119145||119150<=T&&T<=119154||119163<=T&&T<=119170||119173<=T&&T<=119179||119210<=T&&T<=119213||119362<=T&&T<=119364||121344<=T&&T<=121398||121403<=T&&T<=121452||121461==T||121476==T||121499<=T&&T<=121503||121505<=T&&T<=121519||122880<=T&&T<=122886||122888<=T&&T<=122904||122907<=T&&T<=122913||122915<=T&&T<=122916||122918<=T&&T<=122922||125136<=T&&T<=125142||125252<=T&&T<=125258||917536<=T&&T<=917631||917760<=T&&T<=917999?n:127462<=T&&T<=127487?s:2307==T||2363==T||2366<=T&&T<=2368||2377<=T&&T<=2380||2382<=T&&T<=2383||2434<=T&&T<=2435||2495<=T&&T<=2496||2503<=T&&T<=2504||2507<=T&&T<=2508||2563==T||2622<=T&&T<=2624||2691==T||2750<=T&&T<=2752||2761==T||2763<=T&&T<=2764||2818<=T&&T<=2819||2880==T||2887<=T&&T<=2888||2891<=T&&T<=2892||3007==T||3009<=T&&T<=3010||3014<=T&&T<=3016||3018<=T&&T<=3020||3073<=T&&T<=3075||3137<=T&&T<=3140||3202<=T&&T<=3203||3262==T||3264<=T&&T<=3265||3267<=T&&T<=3268||3271<=T&&T<=3272||3274<=T&&T<=3275||3330<=T&&T<=3331||3391<=T&&T<=3392||3398<=T&&T<=3400||3402<=T&&T<=3404||3458<=T&&T<=3459||3536<=T&&T<=3537||3544<=T&&T<=3550||3570<=T&&T<=3571||3635==T||3763==T||3902<=T&&T<=3903||3967==T||4145==T||4155<=T&&T<=4156||4182<=T&&T<=4183||4228==T||6070==T||6078<=T&&T<=6085||6087<=T&&T<=6088||6435<=T&&T<=6438||6441<=T&&T<=6443||6448<=T&&T<=6449||6451<=T&&T<=6456||6681<=T&&T<=6682||6741==T||6743==T||6765<=T&&T<=6770||6916==T||6965==T||6971==T||6973<=T&&T<=6977||6979<=T&&T<=6980||7042==T||7073==T||7078<=T&&T<=7079||7082==T||7143==T||7146<=T&&T<=7148||7150==T||7154<=T&&T<=7155||7204<=T&&T<=7211||7220<=T&&T<=7221||7393==T||7410<=T&&T<=7411||7415==T||43043<=T&&T<=43044||43047==T||43136<=T&&T<=43137||43188<=T&&T<=43203||43346<=T&&T<=43347||43395==T||43444<=T&&T<=43445||43450<=T&&T<=43451||43453<=T&&T<=43456||43567<=T&&T<=43568||43571<=T&&T<=43572||43597==T||43755==T||43758<=T&&T<=43759||43765==T||44003<=T&&T<=44004||44006<=T&&T<=44007||44009<=T&&T<=44010||44012==T||69632==T||69634==T||69762==T||69808<=T&&T<=69810||69815<=T&&T<=69816||69932==T||70018==T||70067<=T&&T<=70069||70079<=T&&T<=70080||70188<=T&&T<=70190||70194<=T&&T<=70195||70197==T||70368<=T&&T<=70370||70402<=T&&T<=70403||70463==T||70465<=T&&T<=70468||70471<=T&&T<=70472||70475<=T&&T<=70477||70498<=T&&T<=70499||70709<=T&&T<=70711||70720<=T&&T<=70721||70725==T||70833<=T&&T<=70834||70841==T||70843<=T&&T<=70844||70846==T||70849==T||71088<=T&&T<=71089||71096<=T&&T<=71099||71102==T||71216<=T&&T<=71218||71227<=T&&T<=71228||71230==T||71340==T||71342<=T&&T<=71343||71350==T||71456<=T&&T<=71457||71462==T||72199<=T&&T<=72200||72249==T||72279<=T&&T<=72280||72343==T||72751==T||72766==T||72873==T||72881==T||72884==T||94033<=T&&T<=94078||119142==T||119149==T?a:4352<=T&&T<=4447||43360<=T&&T<=43388?r:4448<=T&&T<=4519||55216<=T&&T<=55238?l:4520<=T&&T<=4607||55243<=T&&T<=55291?o:44032==T||44060==T||44088==T||44116==T||44144==T||44172==T||44200==T||44228==T||44256==T||44284==T||44312==T||44340==T||44368==T||44396==T||44424==T||44452==T||44480==T||44508==T||44536==T||44564==T||44592==T||44620==T||44648==T||44676==T||44704==T||44732==T||44760==T||44788==T||44816==T||44844==T||44872==T||44900==T||44928==T||44956==T||44984==T||45012==T||45040==T||45068==T||45096==T||45124==T||45152==T||45180==T||45208==T||45236==T||45264==T||45292==T||45320==T||45348==T||45376==T||45404==T||45432==T||45460==T||45488==T||45516==T||45544==T||45572==T||45600==T||45628==T||45656==T||45684==T||45712==T||45740==T||45768==T||45796==T||45824==T||45852==T||45880==T||45908==T||45936==T||45964==T||45992==T||46020==T||46048==T||46076==T||46104==T||46132==T||46160==T||46188==T||46216==T||46244==T||46272==T||46300==T||46328==T||46356==T||46384==T||46412==T||46440==T||46468==T||46496==T||46524==T||46552==T||46580==T||46608==T||46636==T||46664==T||46692==T||46720==T||46748==T||46776==T||46804==T||46832==T||46860==T||46888==T||46916==T||46944==T||46972==T||47e3==T||47028==T||47056==T||47084==T||47112==T||47140==T||47168==T||47196==T||47224==T||47252==T||47280==T||47308==T||47336==T||47364==T||47392==T||47420==T||47448==T||47476==T||47504==T||47532==T||47560==T||47588==T||47616==T||47644==T||47672==T||47700==T||47728==T||47756==T||47784==T||47812==T||47840==T||47868==T||47896==T||47924==T||47952==T||47980==T||48008==T||48036==T||48064==T||48092==T||48120==T||48148==T||48176==T||48204==T||48232==T||48260==T||48288==T||48316==T||48344==T||48372==T||48400==T||48428==T||48456==T||48484==T||48512==T||48540==T||48568==T||48596==T||48624==T||48652==T||48680==T||48708==T||48736==T||48764==T||48792==T||48820==T||48848==T||48876==T||48904==T||48932==T||48960==T||48988==T||49016==T||49044==T||49072==T||49100==T||49128==T||49156==T||49184==T||49212==T||49240==T||49268==T||49296==T||49324==T||49352==T||49380==T||49408==T||49436==T||49464==T||49492==T||49520==T||49548==T||49576==T||49604==T||49632==T||49660==T||49688==T||49716==T||49744==T||49772==T||49800==T||49828==T||49856==T||49884==T||49912==T||49940==T||49968==T||49996==T||50024==T||50052==T||50080==T||50108==T||50136==T||50164==T||50192==T||50220==T||50248==T||50276==T||50304==T||50332==T||50360==T||50388==T||50416==T||50444==T||50472==T||50500==T||50528==T||50556==T||50584==T||50612==T||50640==T||50668==T||50696==T||50724==T||50752==T||50780==T||50808==T||50836==T||50864==T||50892==T||50920==T||50948==T||50976==T||51004==T||51032==T||51060==T||51088==T||51116==T||51144==T||51172==T||51200==T||51228==T||51256==T||51284==T||51312==T||51340==T||51368==T||51396==T||51424==T||51452==T||51480==T||51508==T||51536==T||51564==T||51592==T||51620==T||51648==T||51676==T||51704==T||51732==T||51760==T||51788==T||51816==T||51844==T||51872==T||51900==T||51928==T||51956==T||51984==T||52012==T||52040==T||52068==T||52096==T||52124==T||52152==T||52180==T||52208==T||52236==T||52264==T||52292==T||52320==T||52348==T||52376==T||52404==T||52432==T||52460==T||52488==T||52516==T||52544==T||52572==T||52600==T||52628==T||52656==T||52684==T||52712==T||52740==T||52768==T||52796==T||52824==T||52852==T||52880==T||52908==T||52936==T||52964==T||52992==T||53020==T||53048==T||53076==T||53104==T||53132==T||53160==T||53188==T||53216==T||53244==T||53272==T||53300==T||53328==T||53356==T||53384==T||53412==T||53440==T||53468==T||53496==T||53524==T||53552==T||53580==T||53608==T||53636==T||53664==T||53692==T||53720==T||53748==T||53776==T||53804==T||53832==T||53860==T||53888==T||53916==T||53944==T||53972==T||54e3==T||54028==T||54056==T||54084==T||54112==T||54140==T||54168==T||54196==T||54224==T||54252==T||54280==T||54308==T||54336==T||54364==T||54392==T||54420==T||54448==T||54476==T||54504==T||54532==T||54560==T||54588==T||54616==T||54644==T||54672==T||54700==T||54728==T||54756==T||54784==T||54812==T||54840==T||54868==T||54896==T||54924==T||54952==T||54980==T||55008==T||55036==T||55064==T||55092==T||55120==T||55148==T||55176==T?d:44033<=T&&T<=44059||44061<=T&&T<=44087||44089<=T&&T<=44115||44117<=T&&T<=44143||44145<=T&&T<=44171||44173<=T&&T<=44199||44201<=T&&T<=44227||44229<=T&&T<=44255||44257<=T&&T<=44283||44285<=T&&T<=44311||44313<=T&&T<=44339||44341<=T&&T<=44367||44369<=T&&T<=44395||44397<=T&&T<=44423||44425<=T&&T<=44451||44453<=T&&T<=44479||44481<=T&&T<=44507||44509<=T&&T<=44535||44537<=T&&T<=44563||44565<=T&&T<=44591||44593<=T&&T<=44619||44621<=T&&T<=44647||44649<=T&&T<=44675||44677<=T&&T<=44703||44705<=T&&T<=44731||44733<=T&&T<=44759||44761<=T&&T<=44787||44789<=T&&T<=44815||44817<=T&&T<=44843||44845<=T&&T<=44871||44873<=T&&T<=44899||44901<=T&&T<=44927||44929<=T&&T<=44955||44957<=T&&T<=44983||44985<=T&&T<=45011||45013<=T&&T<=45039||45041<=T&&T<=45067||45069<=T&&T<=45095||45097<=T&&T<=45123||45125<=T&&T<=45151||45153<=T&&T<=45179||45181<=T&&T<=45207||45209<=T&&T<=45235||45237<=T&&T<=45263||45265<=T&&T<=45291||45293<=T&&T<=45319||45321<=T&&T<=45347||45349<=T&&T<=45375||45377<=T&&T<=45403||45405<=T&&T<=45431||45433<=T&&T<=45459||45461<=T&&T<=45487||45489<=T&&T<=45515||45517<=T&&T<=45543||45545<=T&&T<=45571||45573<=T&&T<=45599||45601<=T&&T<=45627||45629<=T&&T<=45655||45657<=T&&T<=45683||45685<=T&&T<=45711||45713<=T&&T<=45739||45741<=T&&T<=45767||45769<=T&&T<=45795||45797<=T&&T<=45823||45825<=T&&T<=45851||45853<=T&&T<=45879||45881<=T&&T<=45907||45909<=T&&T<=45935||45937<=T&&T<=45963||45965<=T&&T<=45991||45993<=T&&T<=46019||46021<=T&&T<=46047||46049<=T&&T<=46075||46077<=T&&T<=46103||46105<=T&&T<=46131||46133<=T&&T<=46159||46161<=T&&T<=46187||46189<=T&&T<=46215||46217<=T&&T<=46243||46245<=T&&T<=46271||46273<=T&&T<=46299||46301<=T&&T<=46327||46329<=T&&T<=46355||46357<=T&&T<=46383||46385<=T&&T<=46411||46413<=T&&T<=46439||46441<=T&&T<=46467||46469<=T&&T<=46495||46497<=T&&T<=46523||46525<=T&&T<=46551||46553<=T&&T<=46579||46581<=T&&T<=46607||46609<=T&&T<=46635||46637<=T&&T<=46663||46665<=T&&T<=46691||46693<=T&&T<=46719||46721<=T&&T<=46747||46749<=T&&T<=46775||46777<=T&&T<=46803||46805<=T&&T<=46831||46833<=T&&T<=46859||46861<=T&&T<=46887||46889<=T&&T<=46915||46917<=T&&T<=46943||46945<=T&&T<=46971||46973<=T&&T<=46999||47001<=T&&T<=47027||47029<=T&&T<=47055||47057<=T&&T<=47083||47085<=T&&T<=47111||47113<=T&&T<=47139||47141<=T&&T<=47167||47169<=T&&T<=47195||47197<=T&&T<=47223||47225<=T&&T<=47251||47253<=T&&T<=47279||47281<=T&&T<=47307||47309<=T&&T<=47335||47337<=T&&T<=47363||47365<=T&&T<=47391||47393<=T&&T<=47419||47421<=T&&T<=47447||47449<=T&&T<=47475||47477<=T&&T<=47503||47505<=T&&T<=47531||47533<=T&&T<=47559||47561<=T&&T<=47587||47589<=T&&T<=47615||47617<=T&&T<=47643||47645<=T&&T<=47671||47673<=T&&T<=47699||47701<=T&&T<=47727||47729<=T&&T<=47755||47757<=T&&T<=47783||47785<=T&&T<=47811||47813<=T&&T<=47839||47841<=T&&T<=47867||47869<=T&&T<=47895||47897<=T&&T<=47923||47925<=T&&T<=47951||47953<=T&&T<=47979||47981<=T&&T<=48007||48009<=T&&T<=48035||48037<=T&&T<=48063||48065<=T&&T<=48091||48093<=T&&T<=48119||48121<=T&&T<=48147||48149<=T&&T<=48175||48177<=T&&T<=48203||48205<=T&&T<=48231||48233<=T&&T<=48259||48261<=T&&T<=48287||48289<=T&&T<=48315||48317<=T&&T<=48343||48345<=T&&T<=48371||48373<=T&&T<=48399||48401<=T&&T<=48427||48429<=T&&T<=48455||48457<=T&&T<=48483||48485<=T&&T<=48511||48513<=T&&T<=48539||48541<=T&&T<=48567||48569<=T&&T<=48595||48597<=T&&T<=48623||48625<=T&&T<=48651||48653<=T&&T<=48679||48681<=T&&T<=48707||48709<=T&&T<=48735||48737<=T&&T<=48763||48765<=T&&T<=48791||48793<=T&&T<=48819||48821<=T&&T<=48847||48849<=T&&T<=48875||48877<=T&&T<=48903||48905<=T&&T<=48931||48933<=T&&T<=48959||48961<=T&&T<=48987||48989<=T&&T<=49015||49017<=T&&T<=49043||49045<=T&&T<=49071||49073<=T&&T<=49099||49101<=T&&T<=49127||49129<=T&&T<=49155||49157<=T&&T<=49183||49185<=T&&T<=49211||49213<=T&&T<=49239||49241<=T&&T<=49267||49269<=T&&T<=49295||49297<=T&&T<=49323||49325<=T&&T<=49351||49353<=T&&T<=49379||49381<=T&&T<=49407||49409<=T&&T<=49435||49437<=T&&T<=49463||49465<=T&&T<=49491||49493<=T&&T<=49519||49521<=T&&T<=49547||49549<=T&&T<=49575||49577<=T&&T<=49603||49605<=T&&T<=49631||49633<=T&&T<=49659||49661<=T&&T<=49687||49689<=T&&T<=49715||49717<=T&&T<=49743||49745<=T&&T<=49771||49773<=T&&T<=49799||49801<=T&&T<=49827||49829<=T&&T<=49855||49857<=T&&T<=49883||49885<=T&&T<=49911||49913<=T&&T<=49939||49941<=T&&T<=49967||49969<=T&&T<=49995||49997<=T&&T<=50023||50025<=T&&T<=50051||50053<=T&&T<=50079||50081<=T&&T<=50107||50109<=T&&T<=50135||50137<=T&&T<=50163||50165<=T&&T<=50191||50193<=T&&T<=50219||50221<=T&&T<=50247||50249<=T&&T<=50275||50277<=T&&T<=50303||50305<=T&&T<=50331||50333<=T&&T<=50359||50361<=T&&T<=50387||50389<=T&&T<=50415||50417<=T&&T<=50443||50445<=T&&T<=50471||50473<=T&&T<=50499||50501<=T&&T<=50527||50529<=T&&T<=50555||50557<=T&&T<=50583||50585<=T&&T<=50611||50613<=T&&T<=50639||50641<=T&&T<=50667||50669<=T&&T<=50695||50697<=T&&T<=50723||50725<=T&&T<=50751||50753<=T&&T<=50779||50781<=T&&T<=50807||50809<=T&&T<=50835||50837<=T&&T<=50863||50865<=T&&T<=50891||50893<=T&&T<=50919||50921<=T&&T<=50947||50949<=T&&T<=50975||50977<=T&&T<=51003||51005<=T&&T<=51031||51033<=T&&T<=51059||51061<=T&&T<=51087||51089<=T&&T<=51115||51117<=T&&T<=51143||51145<=T&&T<=51171||51173<=T&&T<=51199||51201<=T&&T<=51227||51229<=T&&T<=51255||51257<=T&&T<=51283||51285<=T&&T<=51311||51313<=T&&T<=51339||51341<=T&&T<=51367||51369<=T&&T<=51395||51397<=T&&T<=51423||51425<=T&&T<=51451||51453<=T&&T<=51479||51481<=T&&T<=51507||51509<=T&&T<=51535||51537<=T&&T<=51563||51565<=T&&T<=51591||51593<=T&&T<=51619||51621<=T&&T<=51647||51649<=T&&T<=51675||51677<=T&&T<=51703||51705<=T&&T<=51731||51733<=T&&T<=51759||51761<=T&&T<=51787||51789<=T&&T<=51815||51817<=T&&T<=51843||51845<=T&&T<=51871||51873<=T&&T<=51899||51901<=T&&T<=51927||51929<=T&&T<=51955||51957<=T&&T<=51983||51985<=T&&T<=52011||52013<=T&&T<=52039||52041<=T&&T<=52067||52069<=T&&T<=52095||52097<=T&&T<=52123||52125<=T&&T<=52151||52153<=T&&T<=52179||52181<=T&&T<=52207||52209<=T&&T<=52235||52237<=T&&T<=52263||52265<=T&&T<=52291||52293<=T&&T<=52319||52321<=T&&T<=52347||52349<=T&&T<=52375||52377<=T&&T<=52403||52405<=T&&T<=52431||52433<=T&&T<=52459||52461<=T&&T<=52487||52489<=T&&T<=52515||52517<=T&&T<=52543||52545<=T&&T<=52571||52573<=T&&T<=52599||52601<=T&&T<=52627||52629<=T&&T<=52655||52657<=T&&T<=52683||52685<=T&&T<=52711||52713<=T&&T<=52739||52741<=T&&T<=52767||52769<=T&&T<=52795||52797<=T&&T<=52823||52825<=T&&T<=52851||52853<=T&&T<=52879||52881<=T&&T<=52907||52909<=T&&T<=52935||52937<=T&&T<=52963||52965<=T&&T<=52991||52993<=T&&T<=53019||53021<=T&&T<=53047||53049<=T&&T<=53075||53077<=T&&T<=53103||53105<=T&&T<=53131||53133<=T&&T<=53159||53161<=T&&T<=53187||53189<=T&&T<=53215||53217<=T&&T<=53243||53245<=T&&T<=53271||53273<=T&&T<=53299||53301<=T&&T<=53327||53329<=T&&T<=53355||53357<=T&&T<=53383||53385<=T&&T<=53411||53413<=T&&T<=53439||53441<=T&&T<=53467||53469<=T&&T<=53495||53497<=T&&T<=53523||53525<=T&&T<=53551||53553<=T&&T<=53579||53581<=T&&T<=53607||53609<=T&&T<=53635||53637<=T&&T<=53663||53665<=T&&T<=53691||53693<=T&&T<=53719||53721<=T&&T<=53747||53749<=T&&T<=53775||53777<=T&&T<=53803||53805<=T&&T<=53831||53833<=T&&T<=53859||53861<=T&&T<=53887||53889<=T&&T<=53915||53917<=T&&T<=53943||53945<=T&&T<=53971||53973<=T&&T<=53999||54001<=T&&T<=54027||54029<=T&&T<=54055||54057<=T&&T<=54083||54085<=T&&T<=54111||54113<=T&&T<=54139||54141<=T&&T<=54167||54169<=T&&T<=54195||54197<=T&&T<=54223||54225<=T&&T<=54251||54253<=T&&T<=54279||54281<=T&&T<=54307||54309<=T&&T<=54335||54337<=T&&T<=54363||54365<=T&&T<=54391||54393<=T&&T<=54419||54421<=T&&T<=54447||54449<=T&&T<=54475||54477<=T&&T<=54503||54505<=T&&T<=54531||54533<=T&&T<=54559||54561<=T&&T<=54587||54589<=T&&T<=54615||54617<=T&&T<=54643||54645<=T&&T<=54671||54673<=T&&T<=54699||54701<=T&&T<=54727||54729<=T&&T<=54755||54757<=T&&T<=54783||54785<=T&&T<=54811||54813<=T&&T<=54839||54841<=T&&T<=54867||54869<=T&&T<=54895||54897<=T&&T<=54923||54925<=T&&T<=54951||54953<=T&&T<=54979||54981<=T&&T<=55007||55009<=T&&T<=55035||55037<=T&&T<=55063||55065<=T&&T<=55091||55093<=T&&T<=55119||55121<=T&&T<=55147||55149<=T&&T<=55175||55177<=T&&T<=55203?p:9757==T||9977==T||9994<=T&&T<=9997||127877==T||127938<=T&&T<=127940||127943==T||127946<=T&&T<=127948||128066<=T&&T<=128067||128070<=T&&T<=128080||128110==T||128112<=T&&T<=128120||128124==T||128129<=T&&T<=128131||128133<=T&&T<=128135||128170==T||128372<=T&&T<=128373||128378==T||128400==T||128405<=T&&T<=128406||128581<=T&&T<=128583||128587<=T&&T<=128591||128675==T||128692<=T&&T<=128694||128704==T||128716==T||129304<=T&&T<=129308||129310<=T&&T<=129311||129318==T||129328<=T&&T<=129337||129341<=T&&T<=129342||129489<=T&&T<=129501?m:127995<=T&&T<=127999?c:8205==T?y:9792==T||9794==T||9877<=T&&T<=9878||9992==T||10084==T||127752==T||127806==T||127859==T||127891==T||127908==T||127912==T||127979==T||127981==T||128139==T||128187<=T&&T<=128188||128295==T||128300==T||128488==T||128640==T||128658==T?v:128102<=T&&T<=128105?f:u}return this.nextBreak=function(e,t){if(void 0===t&&(t=0),t<0)return 0;if(t>=e.length-1)return e.length;for(var i,n,s=E(b(e,t)),a=[],r=t+1;r<e.length;r++)if(n=r-1,!(55296<=(i=e).charCodeAt(n)&&i.charCodeAt(n)<=56319&&56320<=i.charCodeAt(n+1)&&i.charCodeAt(n+1)<=57343)){var l=E(b(e,r));if(C(s,a,l))return r;a.push(l)}return e.length},this.splitGraphemes=function(e){for(var t,i=[],n=0;(t=this.nextBreak(e,n))<e.length;)i.push(e.slice(n,t)),n=t;return n<e.length&&i.push(e.slice(n)),i},this.iterateGraphemes=function(e){var t=0,i={next:function(){var i,n;return(n=this.nextBreak(e,t))<e.length?(i=e.slice(t,n),t=n,{value:i,done:!1}):t<e.length?(i=e.slice(t),t=e.length,{value:i,done:!1}):{value:void 0,done:!0}}.bind(this)};return"undefined"!=typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return i}),i},this.countGraphemes=function(e){for(var t,i=0,n=0;(t=this.nextBreak(e,n))<e.length;)n=t,i++;return n<e.length&&i++,i},this})},function(e,t,i){const n=i(11);e.exports={gameclock:n}},function(e,t,i){const{h:n,render:s,Component:a}=i(0),r=i(1),l=i(12),o=i(2);e.exports=class extends a{constructor(e){super(e),this.state={activePlayers:null,doReset:!1,fixedNumPeriodsWidth:null,fixedPeriodMovesWidth:null,fixedPeriodWidth:null,fixedWidth:null,hourglassAdjTime:null,hourglassEventID:null,hourglassPlayerID:null,initialTime:null,numMovesPerPlayer:null,prevNumMoves:null,prevPlayer:null,waitMadeMove:!1},this.calcFixedClockWidth=this.calcFixedClockWidth.bind(this),this.calcFixedNumPeriodsWidth=this.calcFixedNumPeriodsWidth.bind(this),this.calcFixedPeriodMovesWidth=this.calcFixedPeriodMovesWidth.bind(this),this.calcFixedPeriodWidth=this.calcFixedPeriodWidth.bind(this),this.getActivePlayers=this.getActivePlayers.bind(this),this.getInitActivePlayers=this.getInitActivePlayers.bind(this),this.getNumMovesPerPlayer=this.getNumMovesPerPlayer.bind(this),this.initActivePlayers=this.initActivePlayers.bind(this),this.initNumMovesPerPlayer=this.initNumMovesPerPlayer.bind(this),this.handleAdjust=this.handleAdjust.bind(this),this.handleElapsedMainTime=this.handleElapsedMainTime.bind(this),this.handleElapsedPeriod=this.handleElapsedPeriod.bind(this),this.handleInit=this.handleInit.bind(this),this.handleMadeMove=this.handleMadeMove.bind(this),this.handlePaused=this.handlePaused.bind(this),this.handlePlayerClockExpired=this.handlePlayerClockExpired.bind(this),this.handleReset=this.handleReset.bind(this),this.handleResumed=this.handleResumed.bind(this),this.handleTenCount=this.handleTenCount.bind(this),this.shiftPlayerAfterMadeMove=this.shiftPlayerAfterMadeMove.bind(this)}calcFixedClockWidth(e){if(null==e.initialTime||!(e.initialTime.length>0))return 0;let t,i,n=e.initialTime;t=!0===e.dispInfoPlayerText?n.reduce((e,t)=>t.playerText?Math.max(e,o.strlen(t.playerText)):e,0)+1:0;let s=n.reduce((e,t)=>Math.max(e,t.mainTime?t.mainTime:0),0),a=n.reduce((e,t)=>Math.max(e,t.secondaryTime?t.secondaryTime:0),0),r=n.reduce((e,t)=>Math.max(e,t.tertiaryTime?t.tertiaryTime:0),0),l=e.clockMode;"delay"===l||"incrementAfter"===l||"incrementBefore"===l?s=s+a+r:"hourglass"===l&&(s=n.reduce((e,t)=>e+(t.mainTime?t.mainTime:0),0)),s>0?(i=e.dispFormatMainTimeFSNumDigits>0?o.strlen(o.timeToString(s,null,e.dispFormatMainTimeFSNumDigits,!0)):o.strlen(o.timeToString(s)),"word"===l&&i++):i=0;let d=0;if("byo-yomi"===l||"delay"===l){let t=this.calcFixedPeriodWidth(e);if(t>0&&(d+=t,"delay"===l&&(d+=3)),t>0||"delay"===l){let t=this.calcFixedNumPeriodsWidth(e);!0===e.dispInfoNumPeriods&&(d+=3+t);let i=this.calcFixedPeriodMovesWidth(e);!0===e.dispInfoPeriodMoves&&(d+=2+i)}}else if("incrementAfter"===l||"incrementBefore"===l){let t=this.calcFixedNumPeriodsWidth(e);!0===e.dispInfoNumPeriods&&(d+=3+t);let i=this.calcFixedPeriodMovesWidth(e);!0===e.dispInfoPeriodMoves&&(d+=2+i)}let p,u=null!=e.dispOnExpired?o.strlen(String(e.dispOnExpired)):0;return p="delay"===l||"incrementAfter"===l||"incrementBefore"===l?t+Math.max(1,i+d,u):t+Math.max(1,i,d,u)}calcFixedNumPeriodsWidth(e){if(null==e.initialTime||!(e.initialTime.length>0))return 0;let t=e.initialTime,i=e.clockMode,n=0,s=1;if(t.reduce((e,t)=>Math.max(e,t.mainTime?t.mainTime:0),0),t.reduce((e,t)=>Math.max(e,t.secondaryTime?t.secondaryTime:0),0)>0&&s++,t.reduce((e,t)=>Math.max(e,t.tertiaryTime?t.tertiaryTime:0),0)>0&&s++,"byo-yomi"===i||"delay"===i){if((t.reduce((e,t)=>Math.max(e,t.periodTime?t.periodTime:0),0)>0||"delay"===i)&&!0===e.dispInfoNumPeriods){let e;"byo-yomi"===i?e=t.reduce((e,t)=>Math.max(e,t.numPeriods?t.numPeriods:0),0):"delay"===i&&(e=s),n+=o.strlen(String(e))}}else"incrementAfter"!==i&&"incrementBefore"!==i||!0===e.dispInfoNumPeriods&&(n+=o.strlen(String(s)));return n}calcFixedPeriodMovesWidth(e){if(null==e.initialTime||!(e.initialTime.length>0))return 0;let t=e.initialTime,i=e.clockMode,n=0;if(("byo-yomi"===i||"delay"===i||"incrementAfter"===i||"incrementBefore"===i)&&(t.reduce((e,t)=>Math.max(e,t.periodTime?t.periodTime:0),0)>0||"delay"===i||"incrementAfter"===i||"incrementBefore"===i)&&!0===e.dispInfoPeriodMoves){let e;if("byo-yomi"===i)e=t.reduce((e,t)=>Math.max(e,t.periodMoves?t.periodMoves:0),0);else if("delay"===i||"incrementAfter"===i||"incrementBefore"===i){let i=t.reduce((e,t)=>Math.max(e,t.mainMoves?t.mainMoves:0),0),n=t.reduce((e,t)=>Math.max(e,t.secondaryMoves?t.secondaryMoves:0),0),s=t.reduce((e,t)=>Math.max(e,t.tertiaryMoves?t.secondaryMoves:0),0);e=Math.max(i,n,s)}n+=o.strlen(String(e))}return n}calcFixedPeriodWidth(e){if(null==e.initialTime||!(e.initialTime.length>0))return 0;let t=e.initialTime,i=0,n=e.clockMode;if("byo-yomi"===n||"delay"===n){let n=t.reduce((e,t)=>Math.max(e,t.periodTime?t.periodTime:0),0);n>0&&(e.dispFormatPeriodTimeFSNumDigits>0?i+=o.strlen(o.timeToString(n,null,e.dispFormatPeriodTimeFSNumDigits,!0)):i+=o.strlen(o.timeToString(n)))}return i}getActivePlayers({nstate:e=this.state}={}){return JSON.parse(JSON.stringify(e.activePlayers))}getNumMovesPerPlayer({nstate:e=this.state}={}){return JSON.parse(JSON.stringify(e.numMovesPerPlayer))}getInitActivePlayers({initialTime:e=null,numMoves:t=null,nstate:i=this.state}={}){this.initNumMovesPerPlayer({initialTime:e,nstate:i});let n=null!=e&&e.length>0?e.length:0,s=null;if(n>0&&(s=e.map((e,t)=>e.playerID),null!=t&&t>0)){let e,i=t%n;for(e=0;e<i;e++){let e=s.shift();s.push(e)}}return s}initActivePlayers({initialTime:e=null,numMoves:t=null,nstate:i=this.state}={}){if(null!=e&&e.length>0){let n=this.getInitActivePlayers({initialTime:e,numMoves:t,nstate:i});i.activePlayers=n,i.prevNumMoves=t,i.prevPlayer=null}else i.activePlayers=null,this.initNumMovesPerPlayer({nstate:i}),i.prevNumMoves=t;i.waitMadeMove=!1}initNumMovesPerPlayer({initialTime:e=null,nstate:t=this.state}={}){null!=e&&e.length>0?t.numMovesPerPlayer=e.reduce((e,t)=>(e[t.playerID]=0,e),{}):t.numMovesPerPlayer=null}handleAdjust({playerID:e=null,clock:t=null,eventID:i=null,byHourglass:n=!1,resetExpired:s=!1,setExpired:a=!1}={}){if(s)this.setState((s,a)=>{let r=JSON.parse(JSON.stringify(s.activePlayers)),l=a.initialTime,o={};if(null!=r&&r.length>0&&null!=l&&l.length>0&&-1===r.indexOf(e)){let t,i,n=l.reduce((t,i,n,s)=>i.playerID===e?n:t,-1)-1;for(;n>=0&&(t=l[n].playerID,!r.some(e=>e===t));)n--;n<0?i=l.length:(i=r.reduce((e,i,n,s)=>i===t?n:e,l.length),i++),r.splice(i,0,e),o={activePlayers:r}}return null!=a.handleAdjust&&!1===n&&a.handleAdjust({clock:t,playerID:e,adjustEventID:i,activePlayers:r}),o});else if(a)this.setState((s,a)=>{let r=JSON.parse(JSON.stringify(s.activePlayers)),l={};if(null!=r&&r.length>0){let t=r.indexOf(e);-1!==t&&(r.splice(t,1),l={activePlayers:r})}return null!=a.handleAdjust&&!1===n&&a.handleAdjust({clock:t,playerID:e,adjustEventID:i,activePlayers:r}),l});else if(null!=this.props.handleAdjust&&!1===n){let n=this.getActivePlayers({nstate:this.state});this.props.handleAdjust({clock:t,playerID:e,adjustEventID:i,activePlayers:n})}}handleElapsedMainTime({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});null!=this.props.handleElapsedMainTime&&this.props.handleElapsedMainTime({clock:t,playerID:e,activePlayers:i})}handleElapsedPeriod({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});null!=this.props.handleElapsedPeriod&&this.props.handleElapsedPeriod({clock:t,playerID:e,activePlayers:i})}handleInit({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});null!=this.props.handleInit&&this.props.handleInit({clock:t,playerID:e,activePlayers:i})}handleMadeMove({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});this.setState((e,i)=>{let n={waitMadeMove:!1};if(null!=e&&"hourglass"===i.clockMode){let i=t.elapsedMoveTime;if(null!=i&&i>0&&null!=e.activePlayers){let t=JSON.parse(JSON.stringify(e.activePlayers[0]));null!=t&&(n.hourglassAdjTime=-i,n.hourglassPlayerID=t,n.hourglassEventID=null==e.hourglassEventID?0:e.hourglassEventID+1)}}return n}),null!=this.props.handleMadeMove&&this.props.handleMadeMove({clock:t,playerID:e,activePlayers:i})}handlePaused({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});null!=this.props.handlePaused&&this.props.handlePaused({clock:t,playerID:e,activePlayers:i})}handlePlayerClockExpired({playerID:e=null,clock:t=null}={}){if(null==this.state.activePlayers||!(this.state.activePlayers.length>0)||-1===this.state.activePlayers.indexOf(e))return;let i,n=this.getActivePlayers({nstate:this.state});null!=n?(i=n[0],n.shift()):i=0,this.setState((e,s)=>{let a={prevPlayer:i,activePlayers:n};if(null!=e&&"hourglass"===s.clockMode){let i=t.elapsedMoveTime;if(null!=i&&i>0&&null!=n){let t=JSON.parse(JSON.stringify(n[0]));null!=t&&(a.hourglassAdjTime=-i,a.hourglassPlayerID=t,a.hourglassEventID=null==e.hourglassEventID?0:e.hourglassEventID+1)}}return a}),null!=this.props.handlePlayerClockExpired&&this.props.handlePlayerClockExpired({clock:t,playerID:JSON.parse(JSON.stringify(i)),nextPlayer:JSON.parse(JSON.stringify(n[0])),activePlayers:JSON.parse(JSON.stringify(n))})}handleReset({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});this.setState({doReset:!1}),null!=this.props.handleReset&&this.props.handleReset({clock:t,playerID:e,activePlayers:i})}handleResumed({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});null!=this.props.handleResumed&&this.props.handleResumed({clock:t,playerID:e,activePlayers:i})}handleTenCount({playerID:e=null,clock:t=null}={}){let i=this.getActivePlayers({nstate:this.state});null!=this.props.handleTenCount&&this.props.handleTenCount({clock:t,playerID:e,activePlayers:i})}shiftPlayerAfterMadeMove({nstate:e=this.state,nprops:t=this.props}={}){if(null!=e.prevNumMoves&&null!=t.numMoves&&null!=e.numMovesPerPlayer&&null!=e.activePlayers&&e.prevNumMoves>=0&&t.numMoves>=0&&e.prevNumMoves<t.numMoves){let t,i=this.getActivePlayers({nstate:e}),n=i[0],s=this.getNumMovesPerPlayer({nstate:e});s[n]++,t=n,n=i.shift(),i.push(n),e.activePlayers=i,e.numMovesPerPlayer=s,e.prevPlayer=t,e.prevNumMoves++,e.waitMadeMove=!0}}componentDidMount(){let e=o.deepCopyIfSame({a:this.state,b:this.state});e.fixedNumPeriodsWidth=this.calcFixedNumPeriodsWidth(this.props),e.fixedPeriodMovesWidth=this.calcFixedPeriodMovesWidth(this.props),e.fixedPeriodWidth=this.calcFixedPeriodWidth(this.props),e.fixedWidth=this.calcFixedClockWidth(this.props),this.initActivePlayers({initialTime:this.props.initialTime,numMoves:this.props.numMoves,nstate:e}),this.setState({activePlayers:e.activePlayers,fixedNumPeriodsWidth:e.fixedNumPeriodsWidth,fixedPeriodMovesWidth:e.fixedPeriodMovesWidth,fixedPeriodWidth:e.fixedPeriodWidth,fixedWidth:e.fixedWidth,initialTime:e.initialTime,numMovesPerPlayer:e.numMovesPerPlayer,prevNumMoves:e.prevNumMoves,prevPlayer:e.prevPlayer,waitMadeMove:e.waitMadeMove}),null!=this.props&&null!=this.props.handleUpdated&&this.props.handleUpdated()}componentDidUpdate(e,t){let i=this.state,n=this.props;null!=n&&null!=n.handleUpdated&&n.handleUpdated(),i.prevNumMoves<i.numMoves&&!i.waitMadeMove&&(i=o.deepCopyIfSame({a:i,b:this.state}),this.shiftPlayerAfterMadeMove({nstate:i,nprops:n}),this.setState({activePlayers:i.activePlayers,numMovesPerPlayer:i.numMovesPerPlayer,prevPlayer:i.prevPlayer,prevNumMoves:i.prevNumMoves,waitMadeMove:i.waitMadeMove}))}componentWillReceiveProps(e){let t,i=this.state,n="init"===e.mode||"init"===this.props.mode&&"reset"!==e.mode,s=!o.shallowEquals(e.initialTime,this.props.initialTime),a=e.numMoves!==this.props.numMoves,r=a&&0==e.numMoves,l=this.props.mode!==e.mode,d=this.props.clockMode!==e.clockMode,p=e.dispInfoNumPeriods!==this.props.dispInfoNumPeriods||e.dispInfoPeriodMoves!==this.props.dispInfoPeriodMoves||e.dispInfoPlayerText!==this.props.dispInfoPlayerText||e.dispFormatMainTimeFSNumDigits!==this.props.dispFormatMainTimeFSNumDigits||e.dispFormatPeriodTimeFSNumDigits!==this.props.dispFormatPeriodTimeFSNumDigits||e.dispOnExpired!==this.props.dispOnExpired;if((s||d||l||p)&&((i=o.deepCopyIfSame({a:i,b:this.state})).fixedNumPeriodsWidth=this.calcFixedNumPeriodsWidth(e),i.fixedPeriodMovesWidth=this.calcFixedPeriodMovesWidth(e),i.fixedPeriodWidth=this.calcFixedPeriodWidth(e),i.fixedWidth=this.calcFixedClockWidth(e)),n&&(null==this.state.activePlayers||s||a))return null!=e.initialTime&&e.initialTime.length,(i=o.deepCopyIfSame({a:i,b:this.state})).initialTime=e.initialTime,this.initActivePlayers({initialTime:i.initialTime,numMoves:e.numMoves,nstate:i}),void this.setState({activePlayers:i.activePlayers,fixedNumPeriodsWidth:i.fixedNumPeriodsWidth,fixedPeriodMovesWidth:i.fixedPeriodMovesWidth,fixedPeriodWidth:i.fixedPeriodWidth,fixedWidth:i.fixedWidth,initialTime:i.initialTime,numMovesPerPlayer:i.numMovesPerPlayer,prevNumMoves:i.prevNumMoves,prevPlayer:i.prevPlayer,waitMadeMove:i.waitMadeMove});!a||r||i.waitMadeMove||(i=o.deepCopyIfSame({a:i,b:this.state}),this.shiftPlayerAfterMadeMove({nstate:i,nprops:e}));let u=this.getActivePlayers({nstate:i}),h=null!=u?u[0]:null,m=this.getNumMovesPerPlayer({nstate:i});"reset"===e.mode&&(l||d||a||s)&&((i=o.deepCopyIfSame({a:i,b:this.state})).initialTime=e.initialTime,r&&(i.prevNumMoves=e.numMoves,i.waitMadeMove=!1),d||l||r||s?(t=h,u=null!=e.initialTime?this.getInitActivePlayers({initialTime:e.initialTime,nstate:i}):null,i.activePlayers=u,h=null!=u?u[0]:null,m=this.getNumMovesPerPlayer({nstate:i})):(i.activePlayers=u,null==t&&null!=h&&(t=h)),i.doReset=d||l||s||r,i.prevPlayer=t),this.setState({activePlayers:i.activePlayers,doReset:i.doReset,fixedNumPeriodsWidth:i.fixedNumPeriodsWidth,fixedPeriodMovesWidth:i.fixedPeriodMovesWidth,fixedPeriodWidth:i.fixedPeriodWidth,fixedWidth:i.fixedWidth,initialTime:i.initialTime,numMovesPerPlayer:i.numMovesPerPlayer,prevNumMoves:i.prevNumMoves,prevPlayer:i.prevPlayer,waitMadeMove:i.waitMadeMove})}render(){let e,{activePlayers:t,doReset:i,fixedNumPeriodsWidth:s,fixedPeriodMovesWidth:a,fixedPeriodWidth:o,fixedWidth:d,hourglassAdjTime:p,hourglassEventID:u,hourglassPlayerID:h,numMovesPerPlayer:m,prevNumMoves:c,prevPlayer:y,waitMadeMove:v}=this.state,{adjustAction:f=null,adjustEventID:T=null,adjustPlayerID:P=null,adjustVal:M=null,clockMode:g=["absolutePerPlayer"],dispInfoNumPeriods:I=!0,dispInfoPeriodMoves:b=!0,dispInfoPlayerText:C=!0,dispCountElapsedMainTime:E=!1,dispCountElapsedNumPeriods:S=!1,dispCountElapsedPeriodMoves:x=!1,dispCountElapsedPeriodTime:N=!1,dispFormatMainTimeFSNumDigits:k=2,dispFormatMainTimeFSLastNumSecs:j=null,dispFormatMainTimeFSUpdateInterval:D=.02,dispFormatPeriodTimeFSNumDigits:F=2,dispFormatPeriodTimeFSLastNumSecs:A=null,dispFormatPeriodTimeFSUpdateInterval:O=.02,dispOnExpired:H="OT",gameClockID:w=1,initialTime:_=null,minActiveClocks:W=2,mode:J=null}=this.props,L=null!=t&&t.length>0,R=L?t.length:0,U=null!=W&&W>=1&&R>=W;return e=null!=_&&_.length>0,n("div",{className:r("gameclock","gameclock_"+w),"data-numActive":R,"data-numClocks":null!=_?_.length:0,id:"gameclock_"+w},e&&_.map((e,r)=>n(l,{adjustAction:f,adjustEventID:T,adjustPlayerID:P,adjustVal:M,clockActive:"resume"===J&&L&&U&&!v&&t[0]===e.playerID,clockMode:g,dispInfoNumPeriods:I,dispInfoPeriodMoves:b,dispInfoPlayerText:C,dispCountElapsedMainTime:E,dispCountElapsedNumPeriods:S,dispCountElapsedPeriodMoves:x,dispCountElapsedPeriodTime:N,dispFormatMainTimeFSNumDigits:k,dispFormatMainTimeFSLastNumSecs:j,dispFormatMainTimeFSUpdateInterval:D,dispFormatPeriodTimeFSNumDigits:F,dispFormatPeriodTimeFSLastNumSecs:A,dispFormatPeriodTimeFSUpdateInterval:O,dispOnExpired:H,doReset:i,fixedNumPeriodsWidth:s,fixedPeriodMovesWidth:a,fixedPeriodWidth:o,fixedWidth:d,gameClockID:w,initialTime:e,handleAdjust:this.handleAdjust,handleElapsedMainTime:this.handleElapsedMainTime,handleElapsedPeriod:this.handleElapsedPeriod,handleInit:this.handleInit,handleMadeMove:this.handleMadeMove,handlePaused:this.handlePaused,handlePlayerClockExpired:this.handlePlayerClockExpired,handleReset:this.handleReset,handleResumed:this.handleResumed,handleTenCount:this.handleTenCount,handleUpdated:this.props.handleUpdated,hourglassAdjTime:p,hourglassEventID:u,hourglassPlayerID:h,numMoves:null!=m?m[e.playerID]:0,playerID:e.playerID,playerText:e.playerText})))}}},function(e,t,i){const{h:n,render:s,Component:a}=i(0),r=i(1),l=i(2);e.exports=class extends a{constructor(e){super(e),this.state={didTenCount:!1,elapsedMainTime:0,elapsedMoveTime:0,elapsedNumPeriods:0,elapsedTotalTime:0,elapsedPeriodMoves:0,elapsedPeriodTime:0,needIncrementBefore:!1,resetPeriod:!1,state:"preinit"},this.icState="preinit",this.icTimeOnIntervalEnd=null,this.icTimeOnIntervalStart=null,this.adjIC=this.adjIC.bind(this),this.getIntervalIC=this.getIntervalIC.bind(this),this.addElapsedHybridIC=this.addElapsedHybridIC.bind(this),this.adjHybridIC=this.adjHybridIC.bind(this),this.getPhaseInfo=this.getPhaseInfo.bind(this),this.onElapsedPeriodAndRepeatsLeft=this.onElapsedPeriodAndRepeatsLeft.bind(this),this.onElapsedPeriodAndNoRepeatsLeft=this.onElapsedPeriodAndNoRepeatsLeft.bind(this),this.onMoveAndPeriodMovesElapsed=this.onMoveAndPeriodMovesElapsed.bind(this),this.onMoveAndPeriodMovesNotElapsed=this.onMoveAndPeriodMovesNotElapsed.bind(this),this.expireTimer=this.expireTimer.bind(this),this.initTimer=this.initTimer.bind(this),this.madeAdjustTimer=this.madeAdjustTimer.bind(this),this.madeMoveTimer=this.madeMoveTimer.bind(this),this.pauseTimer=this.pauseTimer.bind(this),this.resetTimer=this.resetTimer.bind(this),this.resumeTimer=this.resumeTimer.bind(this),this.updateTimer=this.updateTimer.bind(this),this.calcTimeUntilNextWholeSecond=this.calcTimeUntilNextWholeSecond.bind(this),this.startTick=this.startTick.bind(this),this.stopTick=this.stopTick.bind(this),this.tick=this.tick.bind(this),this.handleAdjust=this.handleAdjust.bind(this),this.handleElapsedMainTime=this.handleElapsedMainTime.bind(this),this.handleElapsedPeriod=this.handleElapsedPeriod.bind(this),this.handleInit=this.handleInit.bind(this),this.handleMadeMove=this.handleMadeMove.bind(this),this.handlePaused=this.handlePaused.bind(this),this.handlePlayerClockExpired=this.handlePlayerClockExpired.bind(this),this.handleReset=this.handleReset.bind(this),this.handleResumed=this.handleResumed.bind(this),this.handleTenCount=this.handleTenCount.bind(this),this.timeoutID=null,this.intervalID=null,this.cancelDispUpdate=!1}adjIC({action:e=null}={}){let t=!1;if("update"===e)"running"===this.icState&&(this.icTimeOnIntervalStart=this.icTimeOnIntervalEnd,this.icTimeOnIntervalEnd=l.timeNow(),t=!0);else if("pause"===e)"running"===this.icState&&(this.icTimeOnIntervalEnd=l.timeNow(),this.icState="paused",t=!0);else if("resume"===e){if("paused"===this.icState){let e=l.timeNow();this.icTimeOnIntervalStart=e,this.icTimeOnIntervalEnd=e,this.icState="running",t=!0}else if("init"===this.icState){let e=l.timeNow();this.icTimeOnIntervalStart=e,this.icTimeOnIntervalEnd=e,this.icState="running",t=!0}}else"reset"===e?"preinit"!==this.icState&&(this.icTimeOnIntervalStart=null,this.icTimeOnIntervalEnd=null,this.icState="init",t=!0):"init"===e&&(this.icTimeOnIntervalStart=null,this.icTimeOnIntervalEnd=null,this.icState="init",t=!0);return t}getIntervalIC(){this.internalClock;let e=null;return"paused"!==this.icState&&"running"!==this.icState||(e=this.icTimeOnIntervalEnd-this.icTimeOnIntervalStart),e}addElapsedHybridIC({elapsed:e=null,madeMove:t=!1,suppressEvents:i=!1,nstate:n=null,nprops:s=null}={}){if(null==e)return;let a=n,r=s.initialTime,l=s.clockMode,o=!1,d=r.mainTime,p=r.periodTime;if("absolutePerPlayer"===l||"hourglass"===l)if(a.elapsedMainTime>=d)o=!0,this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}),i||this.handleElapsedMainTime({nstate:n,nprops:s});else if(a.elapsedMainTime+e>=d){o=!0;let e=d-a.elapsedMainTime;this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}),i||this.handleElapsedMainTime({nstate:n,nprops:s})}else this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:e,nstate:n,nprops:s});else if("word"===l){let t;a.elapsedMainTime>=d?(t=d-a.elapsedMainTime,this.adjHybridIC({action:"incrElapsedTotalTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:t,nstate:n,nprops:s})):a.elapsedMainTime+e>=d?(t=d-a.elapsedMainTime,this.adjHybridIC({action:"incrElapsedTotalTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:t,nstate:n,nprops:s}),i||this.handleElapsedMainTime({nstate:n,nprops:s})):(t=0,this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:e,nstate:n,nprops:s})),t=e-t,this.adjHybridIC({action:"incrElapsedTotalTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:t,nstate:n,nprops:s})}else if("incrementAfter"===l||"incrementBefore"===l){let{phase:d,phaseInitTime:u,phaseMoves:h,onLastPhase:m,totalPhases:c}=this.getPhaseInfo({hclk:a,initTime:r});a.elapsedMainTime>=u&&(!m&&a.elapsedPeriodMoves>=h||(this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}),o||i||this.handleElapsedMainTime({nstate:n,nprops:s}),o=!0));let y=e;for(;y>0;){let{phase:e,phaseInitTime:t,phaseMoves:l,onLastPhase:d,totalPhases:p}=this.getPhaseInfo({hclk:a,initTime:r});if(a.elapsedMainTime>=t){if(d||!(a.elapsedPeriodMoves>=l)){this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}),o||i||this.handleElapsedMainTime({nstate:n,nprops:s}),o=!0;break}e++,this.adjHybridIC({action:"setElapsedMainTime",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedNumPeriods",arg:e,nstate:n,nprops:s})}else if(a.elapsedMainTime+y>=t){let r=t-a.elapsedMainTime;if(this.adjHybridIC({action:"incrElapsedTotalTime",arg:r,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:r,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:r,nstate:n,nprops:s}),i||this.handleElapsedMainTime({nstate:n,nprops:s}),y-=r,d||!(a.elapsedPeriodMoves>=l)){o=!0,this.adjHybridIC({action:"setExpired",nstate:n,nprops:s});break}e++,this.adjHybridIC({action:"setElapsedMainTime",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedNumPeriods",arg:e,nstate:n,nprops:s})}else this.adjHybridIC({action:"incrElapsedTotalTime",arg:y,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:y,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:y,nstate:n,nprops:s}),y=0}if(!o&&t&&!0!==a.resetPeriod){this.adjHybridIC({action:"incrElapsedPeriodMoves",nstate:n,nprops:s});let{phase:e,phaseInitTime:t,phaseMoves:i,onLastPhase:o,totalPhases:d}=this.getPhaseInfo({hclk:a,initTime:r});if(a.elapsedPeriodMoves>=i&&e<d-1){e++;let i=t-a.elapsedMainTime;i>0&&this.adjHybridIC({action:"setElapsedMainTime",arg:-i,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedNumPeriods",arg:e,nstate:n,nprops:s})}"incrementAfter"===l&&this.adjHybridIC({action:"incrElapsedMainTime",arg:-p,nstate:n,nprops:s}),this.adjHybridIC({action:"resetPeriod",nstate:n,nprops:s})}}else if("delay"===l){let l=0;if(!0!==a.resetPeriod)if(a.elapsedPeriodTime>=p)l=e;else if(a.elapsedPeriodTime+e>=p){let t=p-a.elapsedPeriodTime;this.adjHybridIC({action:"incrElapsedTotalTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedPeriodTime",arg:t,nstate:n,nprops:s}),l=a.elapsedPeriodTime+e-p}else l=0,o=!1,this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedPeriodTime",arg:e,nstate:n,nprops:s});let{phase:d,phaseInitTime:u,phaseMoves:h,onLastPhase:m,totalPhases:c}=this.getPhaseInfo({hclk:a,initTime:r});for(a.elapsedMainTime>=u&&(!m&&a.elapsedPeriodMoves>=h||(this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}),o||i||this.handleElapsedMainTime({nstate:n,nprops:s}),o=!0));l>0;){let{phase:e,phaseInitTime:t,phaseMoves:d,onLastPhase:p,totalPhases:u}=this.getPhaseInfo({hclk:a,initTime:r});if(a.elapsedMainTime>=t){if(p||!(a.elapsedPeriodMoves>=d)){this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}),o||i||this.handleElapsedMainTime({nstate:n,nprops:s}),o=!0;break}e++,this.adjHybridIC({action:"setElapsedMainTime",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedNumPeriods",arg:e,nstate:n,nprops:s})}else if(a.elapsedMainTime+l>=t){let r=t-a.elapsedMainTime;if(this.adjHybridIC({action:"incrElapsedTotalTime",arg:r,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:r,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:r,nstate:n,nprops:s}),i||this.handleElapsedMainTime({nstate:n,nprops:s}),l-=r,p||!(a.elapsedPeriodMoves>=d)){o=!0,this.adjHybridIC({action:"setExpired",nstate:n,nprops:s});break}e++,this.adjHybridIC({action:"setElapsedMainTime",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedNumPeriods",arg:e,nstate:n,nprops:s})}else this.adjHybridIC({action:"incrElapsedTotalTime",arg:l,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:l,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMainTime",arg:l,nstate:n,nprops:s}),l=0}if(!o&&t&&!0!==a.resetPeriod){this.adjHybridIC({action:"incrElapsedPeriodMoves",nstate:n,nprops:s});let{phase:e,phaseInitTime:t,phaseMoves:i,onLastPhase:l,totalPhases:o}=this.getPhaseInfo({hclk:a,initTime:r});if(a.elapsedPeriodMoves>=i&&e<o-1){e++;let i=t-a.elapsedMainTime;i>0&&this.adjHybridIC({action:"setElapsedMainTime",arg:-i,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"setElapsedNumPeriods",arg:e,nstate:n,nprops:s})}this.adjHybridIC({action:"setElapsedPeriodTime",arg:0,nstate:n,nprops:s}),this.adjHybridIC({action:"resetPeriod",nstate:n,nprops:s})}}else if("byo-yomi"===l){let l,u;if(a.elapsedMainTime>=d)l=e,u=!1;else if(a.elapsedMainTime+e>=d){let t=d-a.elapsedMainTime;this.adjHybridIC({action:"incrElapsedTotalTime",arg:t,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:t,nstate:n,nprops:s}),l=a.elapsedMainTime+e-d,u=!1,this.adjHybridIC({action:"incrElapsedMainTime",arg:d-a.elapsedMainTime,nstate:n,nprops:s}),i||this.handleElapsedMainTime({nstate:n,nprops:s})}else this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:n,nprops:s}),l=0,u=!0,this.adjHybridIC({action:"incrElapsedMainTime",arg:e,nstate:n,nprops:s});if(!u&&null!=r.numPeriods&&r.numPeriods>0){let e=r.numPeriods-a.elapsedNumPeriods,d=a.elapsedPeriodTime+l>=p;e>1&&d?(this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),l=this.onElapsedPeriodAndRepeatsLeft({elapsed:l,suppressEvents:i,nstate:n,nprops:s}),o=this.addElapsedHybridIC({elapsed:l,madeMove:t,nstate:n,nprops:s})):e<1?(o=!0,this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),this.adjHybridIC({action:"setExpired",nstate:n,nprops:s})):(t&&(this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedPeriodMoves",nstate:n,nprops:s})),a.elapsedPeriodTime===p?(o=!0,this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),this.adjHybridIC({action:"setExpired",nstate:n,nprops:s})):a.elapsedPeriodTime+l>=p?(this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),this.onElapsedPeriodAndNoRepeatsLeft({elapsed:l,suppressEvents:i,nstate:n,nprops:s}),o=!0,this.adjHybridIC({action:"setExpired",nstate:n,nprops:s})):t?(this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),a.elapsedPeriodMoves>=r.periodMoves?this.onMoveAndPeriodMovesElapsed({elapsed:l,nstate:n,nprops:s}):this.onMoveAndPeriodMovesNotElapsed({elapsed:l,nstate:n,nprops:s})):(!0!==a.resetPeriod&&(this.adjHybridIC({action:"incrElapsedTotalTime",arg:l,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:l,nstate:n,nprops:s}),this.adjHybridIC({action:"incrElapsedPeriodTime",arg:l,nstate:n,nprops:s})),!a.didTenCount&&p-a.elapsedPeriodTime<=10&&(this.adjHybridIC({action:"setTenCount",arg:!0,nstate:n,nprops:s}),i||this.handleTenCount({nstate:n,nprops:s}))))}else u||null!=r.numPeriods&&r.numPeriods>0||(o=!0,this.adjHybridIC({action:"setTenCount",arg:!1,nstate:n,nprops:s}),this.adjHybridIC({action:"setExpired",nstate:n,nprops:s}))}return o}onElapsedPeriodAndNoRepeatsLeft({elapsed:e=null,suppressEvents:t=!1,nstate:i=null,nprops:n=null}){let s=i,a=n.initialTime.periodTime,r=a-s.elapsedPeriodTime;this.adjHybridIC({action:"incrElapsedTotalTime",arg:r,nstate:i,nprops:n}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:r,nstate:i,nprops:n}),this.adjHybridIC({action:"setElapsedPeriodTime",arg:a,nstate:i,nprops:n}),this.adjHybridIC({action:"incrElapsedNumPeriods",nstate:i,nprops:n}),this.adjHybridIC({action:"setExpired",nstate:i,nprops:n}),t||this.handleElapsedPeriod({nstate:i,nprops:n})}onElapsedPeriodAndRepeatsLeft({elapsed:e=null,suppressEvents:t=!1,nstate:i=null,nprops:n=null}){let s=i,a=n.initialTime.periodTime-s.elapsedPeriodTime;return e-=a,this.adjHybridIC({action:"incrElapsedTotalTime",arg:a,nstate:i,nprops:n}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:a,nstate:i,nprops:n}),this.adjHybridIC({action:"setElapsedPeriodTime",arg:0,nstate:i,nprops:n}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:i,nprops:n}),this.adjHybridIC({action:"incrElapsedNumPeriods",nstate:i,nprops:n}),t||this.handleElapsedPeriod({nstate:i,nprops:n}),e}onMoveAndPeriodMovesElapsed({elapsed:e=null,nstate:t=null,nprops:i=null}){!0!==t.resetPeriod&&(this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:t,nprops:i}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:t,nprops:i})),this.adjHybridIC({action:"setElapsedPeriodTime",arg:0,nstate:t,nprops:i}),this.adjHybridIC({action:"setElapsedPeriodMoves",arg:0,nstate:t,nprops:i}),this.adjHybridIC({action:"resetPeriod",nstate:t,nprops:i})}onMoveAndPeriodMovesNotElapsed({elapsed:e=null,nstate:t=null,nprops:i=null}={}){!0!==t.resetPeriod&&(this.adjHybridIC({action:"incrElapsedTotalTime",arg:e,nstate:t,nprops:i}),this.adjHybridIC({action:"incrElapsedMoveTime",arg:e,nstate:t,nprops:i}),this.adjHybridIC({action:"incrElapsedPeriodTime",arg:e,nstate:t,nprops:i}))}adjHybridIC({action:e=null,arg:t=null,nstate:i=null,nprops:n=null}={}){if(null==i)return!1;let s=i,a=!1;if("update"===e){if("running"===s.state&&this.adjIC({action:"update"})){let e=this.getIntervalIC();null!=e&&(this.addElapsedHybridIC({elapsed:e,nstate:i,nprops:n})&&this.expireTimer({nstate:i,nprops:n}),a=!0)}}else if("madeMove"===e)"incrementBefore"===n.clockMode&&(s.needIncrementBefore=!0),"running"===s.state&&(this.addElapsedHybridIC({elapsed:0,madeMove:!0,nstate:i,nprops:n})&&("incrementBefore"===n.clockMode&&(s.needIncrementBefore=!1),this.expireTimer({nstate:i,nprops:n})),a=!0);else if("pause"===e){if("running"===s.state&&this.adjIC({action:"pause"})){let e=this.getIntervalIC();if(null!=e){let t=this.addElapsedHybridIC({elapsed:e,nstate:i,nprops:n});s.resetPeriod=!1,t?this.expireTimer({nstate:i,nprops:n}):s.state="paused",a=!0}}}else"resume"===e?"paused"!==s.state&&"init"!==s.state||this.adjIC({action:"resume"})&&(s.state="running",a=!0):"reset"===e?"preinit"!==s.state&&(this.adjIC({action:"reset"}),s.elapsedTotalTime=0,s.elapsedMoveTime=0,s.elapsedMainTime=0,s.elapsedNumPeriods=0,s.elapsedPeriodTime=0,s.elapsedPeriodMoves=0,s.resetPeriod=!1,s.state="init",s.didTenCount=!1,s.needIncrementBefore=!0,a=!0):"init"===e?this.adjIC({action:"init"})&&(s.elapsedTotalTime=0,s.elapsedMoveTime=0,s.elapsedMainTime=0,s.elapsedNumPeriods=0,s.elapsedPeriodTime=0,s.elapsedPeriodMoves=0,s.resetPeriod=!1,s.state="init",s.didTenCount=!1,s.needIncrementBefore=!0,a=!0):"incrElapsedMainTime"===e?null!=t&&(s.elapsedMainTime+=t,a=!0):"incrElapsedMoveTime"===e?null!=t&&(s.elapsedMoveTime+=t,a=!0):"incrElapsedNumPeriods"===e?(null==t?s.elapsedNumPeriods++:s.elapsedNumPeriods+=t,a=!0):"incrElapsedPeriodMoves"===e?(null==t?s.elapsedPeriodMoves++:s.elapsedPeriodMoves+=t,a=!0):"incrElapsedPeriodTime"===e?null!=t&&(s.elapsedPeriodTime+=t,s.elapsedPeriodTime<0&&(s.elapsedMainTime+=s.elapsedPeriodTime,s.elapsedPeriodTime=0),a=!0):"incrElapsedTotalTime"===e?null!=t&&(s.elapsedTotalTime+=t,a=!0):"resetExpired"===e?"expired"===s.state&&(this.adjIC({action:"pause"}),s.resetPeriod=!1,s.state="paused",a=!0):"resetPeriod"===e?(s.resetPeriod=!0,a=!0):"setElapsedMainTime"===e?null!=t&&(s.elapsedMainTime=t,a=!0):"setElapsedMoveTime"===e?null!=t&&(s.elapsedMoveTime=t,a=!0):"setElapsedNumPeriods"===e?null!=t&&(s.elapsedNumPeriods=t,a=!0):"setElapsedPeriodMoves"===e?null!=t&&(s.elapsedPeriodMoves=t,a=!0):"setElapsedPeriodTime"===e?null!=t&&(s.elapsedPeriodTime=t,a=!0):"setElapsedTotalTime"===e?null!=t&&(s.elapsedTotalTime=t,a=!0):"setExpired"===e?(s.state="expired",a=!0):"setTenCount"===e&&null!=t&&(s.didTenCount=t,a=!0);return a}getPhaseInfo({hclk:e=null,initTime:t=null}={}){if(null===e||null==t)return{phase:0,phaseInitTime:0,phaseMoves:0,onLastPhase:!1,totalPhases:0};let i=e.elapsedNumPeriods,n=t.mainMoves,s=1,a=t.mainTime;return null!=t.secondaryTime&&t.secondaryTime>=0&&(s++,1==i&&(a=t.secondaryTime,null!=t.secondaryMoves&&t.secondaryMoves>0&&(n=t.secondaryMoves))),null!=t.tertiaryTime&&t.tertiaryTime>=0&&(s++,2==i&&(a=t.tertiaryTime,null!=t.tertiaryMoves&&t.tertiaryMoves>0&&(n=t.tertiaryMoves))),{phase:i,phaseInitTime:a,phaseMoves:n,onLastPhase:i===s-1,totalPhases:s}}expireTimer({nstate:e=null,nprops:t=null}={}){return this.stopTick({nstate:e,nprops:t}),this.updateTimer({forced:!0,nstate:e,nprops:t}),this.handlePlayerClockExpired({nstate:e,nprops:t}),!0}initTimer({nstate:e=null,nprops:t=null}={}){return!(!t.clockMode||!t.initialTime||!this.adjHybridIC({action:"init",nstate:e,nprops:t})||("incrementAfter"===t.clockMode&&this.adjHybridIC({action:"incrElapsedMainTime",arg:-t.initialTime.periodTime,nstate:e,nprops:t}),this.updateTimer({forced:!0}),this.handleInit({nstate:e,nprops:t}),t.clockActive&&this.resumeTimer({nstate:e,nprops:t}),0))}madeAdjustTimer({nstate:e=null,nprops:t=null,byHourglass:i=!1}={}){let n=!0===i?"incrElapsedMainTime":t.adjustAction;if(-1===["incrElapsedMainTime","incrElapsedMoveTime","incrElapsedNumPeriods","incrElapsedPeriodMoves","incrElapsedPeriodTime","incrElapsedTotalTime","setElapsedMainTime","setElapsedMoveTime","setElapsedNumPeriods","setElapsedPeriodMoves","setElapsedPeriodTime","setElapsedTotalTime"].indexOf(n))return;let s=!0===i?t.hourglassAdjTime:parseFloat(t.adjustVal);if(!isNaN(s)&&this.adjHybridIC({action:n,arg:s,nstate:e,nprops:t})){let n="expired"===e.state,s=this.addElapsedHybridIC({elapsed:0,madeMove:!1,suppressEvents:!0,nstate:e,nprops:t});this.adjHybridIC({action:"setTenCount",arg:!1,nstate:e,nprops:t});let a=!s&&n;a&&this.adjHybridIC({action:"resetExpired",nstate:e,nprops:t});let r=s&&!n;r&&this.adjHybridIC({action:"setExpired",nstate:e,nprops:t}),this.handleAdjust({nstate:e,nprops:t,byHourglass:i,resetExpired:a,setExpired:r})}}madeMoveTimer({nstate:e=null,nprops:t=null}={}){this.updateTimer({nstate:e,nprops:t}),this.adjHybridIC({action:"madeMove",nstate:e,nprops:t})?(this.pauseTimer({nstate:e,nprops:t}),this.handleMadeMove({nstate:e,nprops:t}),this.adjHybridIC({action:"setElapsedMoveTime",arg:0,nstate:e,nprops:t})):(this.pauseTimer({nstate:e,nprops:t}),this.handleMadeMove({nstate:e,nprops:t}))}pauseTimer({nstate:e=null,nprops:t=null}={}){this.updateTimer({nstate:e,nprops:t});let i=!0;return i=!!this.adjHybridIC({action:"pause",nstate:e,nprops:t}),this.stopTick({nstate:e,nprops:t}),this.updateTimer({nstate:e,nprops:t}),this.handlePaused({nstate:e,nprops:t}),i}resetTimer({nstate:e=null,nprops:t=null}={}){return this.pauseTimer({nstate:e,nprops:t}),!!this.adjHybridIC({action:"reset",nstate:e,nprops:t})&&("incrementAfter"===t.clockMode&&this.adjHybridIC({action:"incrElapsedMainTime",arg:-t.initialTime.periodTime,nstate:e,nprops:t}),this.updateTimer({forced:!0,nstate:e,nprops:t}),this.handleReset({nstate:e,nprops:t}),!0)}resumeTimer({nstate:e=null,nprops:t=null}={}){if(this.adjHybridIC({action:"resume",nstate:e,nprops:t})){let i=e;return"incrementBefore"===t.clockMode&&i.needIncrementBefore&&(this.adjHybridIC({action:"incrElapsedMainTime",arg:-t.initialTime.periodTime,nstate:e,nprops:t}),i.needIncrementBefore=!1),this.startTick({nstate:e,nprops:t}),this.updateTimer({nstate:e,nprops:t}),this.handleResumed({nstate:e,nprops:t}),!0}return this.updateTimer({nstate:e,nprops:t}),!1}updateTimer({forced:e=!1,nstate:t=null,nprops:i=null}={}){return!(null==t||"preinit"===t.state||!this.adjHybridIC({action:"update",nstate:t,nprops:i})&&!e)}calcTimeUntilNextWholeSecond({nstate:e=null,nprops:t=null}={}){let i=e;if("running"!==i.state)return l.secToMilli(1);let n=t.clockMode,s=t.initialTime,a=(this.internalClock,this.icTimeOnIntervalEnd),r=1,o=l.timeNow();if("absolutePerPlayer"===n||"hourglass"===n||"word"===n){let e=i.elapsedMainTime+(o-a);if(i.elapsedMainTime<s.mainTime||"word"===n){if(t.dispFormatMainTimeFSNumDigits>0){let i=t.dispFormatMainTimeFSUpdateInterval;if(i>0){let n=t.dispFormatMainTimeFSLastNumSecs;n>0||(n=1/0),s.mainTime-e<=n&&(r=i-(e-Math.floor(e))%i)}}r=Math.min(r,Math.ceil(e)-e)}}else if("incrementAfter"===n||"incrementBefore"===n){let e=i.elapsedMainTime+(o-a);if(t.dispFormatMainTimeFSNumDigits>0){let n=t.dispFormatMainTimeFSUpdateInterval;if(n>0){let a=t.dispFormatMainTimeFSLastNumSecs;a>0||(a=1/0);let{phase:l,phaseInitTime:o,phaseMoves:d,onLastPhase:p,totalPhases:u}=this.getPhaseInfo({hclk:i,initTime:s});o-e<=a&&(r=n-(e-Math.floor(e))%n)}}r=Math.min(r,Math.ceil(e)-e)}else if("delay"===n){let e,n,l=s.periodTime;null!=l&&i.elapsedPeriodTime<l?(n=i.elapsedPeriodTime,e=!0):(n=i.elapsedMainTime,e=!1);let d=n+(o-a);if(!e&&t.dispFormatMainTimeFSNumDigits>0){let e=t.dispFormatMainTimeFSUpdateInterval;if(e>0){let n=t.dispFormatMainTimeFSLastNumSecs;n>0||(n=1/0);let{phase:a,phaseInitTime:l,phaseMoves:o,onLastPhase:p,totalPhases:u}=this.getPhaseInfo({hclk:i,initTime:s});l-d<=n&&(r=e-(d-Math.floor(d))%e)}}else if(e&&t.dispFormatPeriodTimeFSNumDigits>0){let e=t.dispFormatPeriodTimeFSUpdateInterval;if(e>0){let i=t.dispFormatPeriodTimeFSLastNumSecs;i>0||(i=1/0),s.periodTime-d<=i&&(r=e-(d-Math.floor(d))%e)}}r=Math.min(r,Math.ceil(d)-d)}else if("byo-yomi"===n){let e,n;i.elapsedMainTime<s.mainTime?(e=i.elapsedMainTime,n=!0):(e=i.elapsedPeriodTime,n=!1);let l=e+(o-a);if(n&&t.dispFormatMainTimeFSNumDigits>0){let e=t.dispFormatMainTimeFSUpdateInterval;if(e>0){let i=t.dispFormatMainTimeFSLastNumSecs;i>0||(i=1/0),s.mainTime-l<=i&&(r=e-(l-Math.floor(l))%e)}}else if(!n&&t.dispFormatPeriodTimeFSNumDigits>0){let e=t.dispFormatPeriodTimeFSUpdateInterval;if(e>0){let i=t.dispFormatPeriodTimeFSLastNumSecs;i>0||(i=1/0),s.periodTime-l<=i&&(r=e-(l-Math.floor(l))%e)}}r=Math.min(r,Math.ceil(l)-l)}return l.secToMilli(r)}startTick({nstate:e=null,nprops:t=null}={}){this.cancelDispUpdate=!1,this.intervalID=requestAnimationFrame(this.tick)}stopTick({nstate:e=null,nprops:t=null}={}){this.cancelDispUpdate=!0,cancelAnimationFrame(this.intervalID),clearTimeout(this.timeoutID)}tick({nstate:e=null,nprops:t=null}={}){null==e&&(e=l.deepCopyIfSame({a:this.state,b:this.state})),null==t&&(t=this.props),this.cancelDispUpdate||(this.updateTimer({nstate:e,nprops:t}),this.setState({didTenCount:e.didTenCount,elapsedMainTime:e.elapsedMainTime,elapsedMoveTime:e.elapsedMoveTime,elapsedNumPeriods:e.elapsedNumPeriods,elapsedTotalTime:e.elapsedTotalTime,elapsedPeriodMoves:e.elapsedPeriodMoves,elapsedPeriodTime:e.elapsedPeriodTime,needIncrementBefore:e.needIncrementBefore,resetPeriod:e.resetPeriod,state:e.state}),this.timeoutID=setTimeout(()=>{this.intervalID=requestAnimationFrame(this.tick)},this.calcTimeUntilNextWholeSecond({nstate:e,nprops:t})))}handleAdjust({nstate:e=null,nprops:t=null,resetExpired:i=!1,setExpired:n=!1,byHourglass:s=!1}={}){let a,r=null!=e?l.deepCopyIfSame({a:e,b:e}):null,o=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;a=!0===s?null!=t&&null!=t.hourglassEventID?JSON.parse(JSON.stringify(t.hourglassEventID)):null:null!=t&&null!=t.adjustEventID?JSON.parse(JSON.stringify(t.adjustEventID)):null,null!=t&&null!=t.handleAdjust&&t.handleAdjust({clock:r,playerID:o,eventID:a,byHourglass:s,resetExpired:i,setExpired:n})}handleElapsedMainTime({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleElapsedMainTime&&t.handleElapsedMainTime({clock:i,playerID:n})}handleElapsedPeriod({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleElapsedPeriod&&t.handleElapsedPeriod({clock:i,playerID:n})}handleInit({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleInit&&t.handleInit({clock:i,playerID:n})}handleMadeMove({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleMadeMove&&t.handleMadeMove({clock:i,playerID:n})}handlePaused({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handlePaused&&t.handlePaused({clock:i,playerID:n})}handlePlayerClockExpired({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handlePlayerClockExpired&&t.handlePlayerClockExpired({clock:i,playerID:n})}handleReset({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleReset&&t.handleReset({clock:i,playerID:n})}handleResumed({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleResumed&&t.handleResumed({clock:i,playerID:n})}handleTenCount({nstate:e=null,nprops:t=null}={}){let i=null!=e?l.deepCopyIfSame({a:e,b:e}):null,n=null!=t&&null!=t.playerID?JSON.parse(JSON.stringify(t.playerID)):null;null!=t&&null!=t.handleTenCount&&t.handleTenCount({clock:i,playerID:n})}componentDidMount(){let e=this.props,t=this.state;this.initTimer({nprops:e,nstate:t}),null!=e&&null!=e.playerID&&null!=t&&(null!=e.adjustEventID&&null!=e.adjustPlayerID&&e.adjustPlayerID===e.playerID&&this.madeAdjustTimer({nstate:t,nprops:e}),null!=e.hourglassEventID&&null!=e.hourglassPlayerID&&e.hourglassPlayerID===e.playerID&&this.madeAdjustTimer({nstate:t,nprops:e,byHourglass:!0})),null!=e&&null!=e.handleUpdated&&e.handleUpdated(),this.setState({didTenCount:t.didTenCount,elapsedMainTime:t.elapsedMainTime,elapsedMoveTime:t.elapsedMoveTime,elapsedNumPeriods:t.elapsedNumPeriods,elapsedTotalTime:t.elapsedTotalTime,elapsedPeriodMoves:t.elapsedPeriodMoves,elapsedPeriodTime:t.elapsedPeriodTime,needIncrementBefore:t.needIncrementBefore,resetPeriod:t.resetPeriod,state:t.state})}componentDidUpdate(e){let t=this.state,i=this.props;null!=i&&null!=i.handleUpdated&&i.handleUpdated(),null!=i&&null!=i.playerID&&null!=t&&(null!=i.adjustEventID&&null!=i.adjustPlayerID&&i.adjustEventID!=e.adjustEventID&&i.adjustPlayerID===i.playerID&&(t=l.deepCopyIfSame({a:t,b:this.state}),this.madeAdjustTimer({nstate:t,nprops:i})),null!=i.hourglassEventID&&null!=i.hourglassPlayerID&&i.hourglassEventID!=e.hourglassEventID&&i.hourglassPlayerID===i.playerID&&(t=l.deepCopyIfSame({a:t,b:this.state}),this.madeAdjustTimer({nstate:t,nprops:i,byHourglass:!0}))),i.numMoves!=e.numMoves&&i.numMoves>e.numMoves&&(t=l.deepCopyIfSame({a:t,b:this.state}),this.madeMoveTimer({nstate:t,nprops:i})),i.doReset!==e.doReset&&!0===i.doReset&&null!=i.handleReset&&null!=i.initialTime&&(t=l.deepCopyIfSame({a:t,b:this.state}),this.resetTimer({nstate:t,nprops:i})),null==i.initialTime||i.initialTime.mainTime===e.initialTime.mainTime&&i.initialTime.numPeriods===e.initialTime.numPeriods&&i.initialTime.periodMoves===e.initialTime.periodMoves&&i.initialTime.periodTime===e.initialTime.periodTime&&i.clockMode===e.clockMode||(t=l.deepCopyIfSame({a:t,b:this.state}),this.pauseTimer({nstate:t,nprops:i}),this.initTimer({nstate:t,nprops:i})),i.clockActive!==e.clockActive&&(!1===i.clockActive?e.clockActive&&(t=l.deepCopyIfSame({a:t,b:this.state}),this.pauseTimer({nstate:t,nprops:i})):!0===i.clockActive&&(t=l.deepCopyIfSame({a:t,b:this.state}),this.resumeTimer({nstate:t,nprops:i})||this.initTimer({nstate:t,nprops:i}))),t!=this.state&&this.setState({didTenCount:t.didTenCount,elapsedMainTime:t.elapsedMainTime,elapsedMoveTime:t.elapsedMoveTime,elapsedNumPeriods:t.elapsedNumPeriods,elapsedTotalTime:t.elapsedTotalTime,elapsedPeriodMoves:t.elapsedPeriodMoves,elapsedPeriodTime:t.elapsedPeriodTime,needIncrementBefore:t.needIncrementBefore,resetPeriod:t.resetPeriod,state:t.state})}componentWillUnmount(){this.stopTick({nstate:this.state,nprops:this.props})}shouldComponentUpdate(e,t){if(this.state!==t)return!0;if(null!=this.state&&!l.shallowEquals(this.state,t))return!0;let{adjustAction:i,adjustEventID:n,adjustPlayerID:s,adjustVal:a,clockActive:r,clockMode:o,dispInfoNumPeriods:d,dispInfoPeriodMoves:p,dispInfoPlayerText:u,dispCountElapsedMainTime:h,dispCountElapsedNumPeriods:m,dispCountElapsedPeriodMoves:c,dispCountElapsedPeriodTime:y,dispFormatMainTimeFSNumDigits:v,dispFormatMainTimeFSLastNumSecs:f,dispFormatMainTimeFSUpdateInterval:T,dispFormatPeriodTimeFSNumDigits:P,dispFormatPeriodTimeFSLastNumSecs:M,dispFormatPeriodTimeFSUpdateInterval:g,dispOnExpired:I,doReset:b,fixedNumPeriodsWidth:C,fixedPeriodMovesWidth:E,fixedPeriodWidth:S,fixedWidth:x,gameClockID:N,initialTime:k,handleAdjust:j,handleElapsedMainTime:D,handleElapsedPeriod:F,handleInit:A,handleMadeMove:O,handlePaused:H,handlePlayerClockExpired:w,handleReset:_,handleResumed:W,handleTenCount:J,handleUpdated:L,hourglassAdjTime:R,hourglassEventID:U,hourglassPlayerID:B,numMoves:V,playerID:q,playerText:G}=this.props;return V!==e.numMoves||n!==e.adjustEventID||r!==e.clockActive||o!==e.clockMode||b!==e.doReset||d!==e.dispInfoNumPeriods||p!==e.dispInfoPeriodMoves||u!==e.dispInfoPlayerText||h!==e.dispCountElapsedMainTime||m!==e.dispCountElapsedNumPeriods||c!==e.dispCountElapsedPeriodMoves||y!==e.dispCountElapsedPeriodTime||v!==e.dispFormatMainTimeFSNumDigits||f!==e.dispFormatMainTimeFSLastNumSecs||T!==e.dispFormatMainTimeFSUpdateInterval||P!==e.dispFormatPeriodTimeFSNumDigits||M!==e.dispFormatPeriodTimeFSLastNumSecs||g!==e.dispFormatPeriodTimeFSUpdateInterval||I!==e.dispOnExpired||C!==e.fixedNumPeriodsWidth||E!==e.fixedPeriodMovesWidth||S!==e.fixedPeriodWidth||x!==e.fixedWidth||N!==e.gameClockID||j!==e.handleAdjust||D!==e.handleElapsedMainTime||F!==e.handleElapsedPeriod||A!==e.handleInit||O!==e.handleMadeMove||H!==e.handlePaused||w!==e.handlePlayerClockExpired||_!==e.handleReset||W!==e.handleResumed||J!==e.handleTenCount||L!==e.handleUpdated||U!==e.hourglassEventID||q!==e.playerID||G!==e.playerText||k!==e.initialTime||null!=k&&null!=e.initialTime&&!l.shallowEquals(k,e.initialTime)}render(){let e,t,i,s,a,o,d,p=this.state,{clockMode:u,clockActive:h,dispInfoNumPeriods:m,dispInfoPeriodMoves:c,dispInfoPlayerText:y,dispCountElapsedMainTime:v,dispCountElapsedNumPeriods:f,dispCountElapsedPeriodMoves:T,dispCountElapsedPeriodTime:P,dispFormatMainTimeFSNumDigits:M,dispFormatMainTimeFSLastNumSecs:g,dispFormatMainTimeFSUpdateInterval:I,dispFormatPeriodTimeFSNumDigits:b,dispFormatPeriodTimeFSLastNumSecs:C,dispFormatPeriodTimeFSUpdateInterval:E,dispOnExpired:S,doReset:x,fixedNumPeriodsWidth:N,fixedPeriodMovesWidth:k,fixedPeriodWidth:j,fixedWidth:D,gameClockID:F,initialTime:A,numMoves:O,playerID:H,playerText:w}=this.props,_=null!=p&&null!=p.state,W=_?p.state:null,J=A,L=null!=J&&_,R=!1,U=!1,B=L&&null!=J.periodTime&&J.periodTime>0;"delay"===u||"incrementAfter"===u||"incrementBefore"===u?(({phase:i,phaseInitTime:s,phaseMoves:a,onLastPhase:o,totalPhases:d}=this.getPhaseInfo({hclk:p,initTime:J})),t=L?d-p.elapsedNumPeriods:0,"delay"===u?R=!0:"incrementAfter"!==u&&"incrementBefore"!==u||(U=!0),e=s):e=L?J.mainTime:0;let V=L?e-p.elapsedMainTime:0,q=V>0,G=L&&"expired"===W,K=L&&"expired"!==W,$=!h&&_&&("preinit"===W||"init"===W||"reset"===W),z=L&&_&&!h&&("running"===W||"paused"===W),Q=L?J.periodTime-p.elapsedPeriodTime:0,X="byo-yomi"===u&&L&&!q,Y=g;g>0||(Y=1/0);let Z=C;C>0||(Z=1/0);let ee=M>0&&V<=g,te=b>0&&Q<=C,ie=K&&"Infinity"==V,ne=ie||"Infinity"==(K&&"Infinity"==Q),se="";if(y&&(se+=w+" "),L)if(G&&null!=S&&""!==S)D-=l.strlen(se),se+=l.padStart(String(S),D," ");else if(X){if(m){let e=L?J.numPeriods-p.elapsedNumPeriods:0,t=f?p.elapsedNumPeriods:e;se+="("+l.padStart(String(t),N," ")+") "}if(c){let e=T?p.elapsedPeriodMoves:J.periodMoves-p.elapsedPeriodMoves;se+=l.padStart(String(e),k," ")+"  "}D-=l.strlen(se);let e=P?p.elapsedPeriodTime:Q;se+=l.timeToString(e,D,b,te)}else if(U){if(m){let e=f?p.elapsedNumPeriods+1:t-1;se+="("+l.padStart(String(e),N," ")+") "}if(c){let e=a-p.elapsedPeriodMoves;e=e>0?e:0;let t=p.elapsedPeriodMoves>a?a:p.elapsedPeriodMoves,i=T?t:e;se+=l.padStart(String(i),k," ")+"  "}let e=v?p.elapsedMainTime:V;D-=l.strlen(se),se+=l.timeToString(e,D,M,ee)}else if(R){if(m){let e=f?p.elapsedNumPeriods+1:t-1;se+="("+l.padStart(String(e),N," ")+") "}if(c){let e=a-p.elapsedPeriodMoves;e=e>0?e:0;let t=p.elapsedPeriodMoves>a?a:p.elapsedPeriodMoves,i=T?t:e;se+=l.padStart(String(i),k," ")+"  "}let e=v?p.elapsedMainTime:V;if(!ie&&B){let e=P?p.elapsedPeriodTime:Q;se+=l.timeToString(e,j,b,te)+" + "}D-=l.strlen(se),se+=l.timeToString(e,D,M,ee)}else{D-=l.strlen(se);let e=v?p.elapsedMainTime:V;se+=l.timeToString(e,D,M,ee)}else se+="-";return n("div",{className:r("gameclock_"+F,"playerclock","playerclock_"+F+"_"+H,K?"":"expired",!ne&&h?"running":"",ne&&h?"infinitetime":"",z?"paused":"",$?"inactive":""),id:"playerclock_"+F+"_"+H},se)}}}]);